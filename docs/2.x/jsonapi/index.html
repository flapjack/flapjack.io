<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Flapjack API Reference</title>

    <link href="../../../stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="../../../stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
      <script src="../../../javascripts/all_nosearch.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["ruby","shell","json_parameter","json_response"]);
        });
      </script>
  </head>

  <body class="docs docs_2">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../../../images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="../../../images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="ruby">Ruby</a>
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="json_parameter">Parameters</a>
              <a href="#" data-language-name="json_response">Responses</a>
        </div>
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
        <div class="alert alert-info" style="padding-top: 10px; padding-bottom: 0px; margin-bottom: 0px; height: 40px">
    <strong>This is documentation for Flapjack version 2.0:</strong>
    If you're looking for version 1.0 documentation, click <a class="alert-link" href="http://flapjack.io/docs/1.0">here.</a>
  </div>

      <div class="dark-box"></div>
      <div class="content">
        <h1 id="title_acknowledgements">Acknowledgements</h1>
<h2 id="POST_acknowledgements">POST /acknowledgements</h2>


<pre><code class="highlight shell"><span class="c"># required: </span>
<span class="c"># optional: duration, id, summary</span>
curl -w <span class="s1">'response: %{http_code} \n'</span> -X POST <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "acknowledgement",
        "id": "15086921-2d21-4efa-834b-15a9cd846f09",
        "duration": "1200",
        "summary": "Fixing manually"
      }, {
        "type": "acknowledgement",
        "id": "9c5cad20-3fa8-4dec-97d1-405c9e1eb66d",
        "duration": "3000",
        "summary": "Power return expected"
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/acknowledgements
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="c1"># required: </span>
<span class="c1"># optional: duration, id, summary</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">create_acknowledgements</span><span class="p">({</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'15086921-2d21-4efa-834b-15a9cd846f09'</span><span class="p">,</span>
  <span class="ss">:duration</span> <span class="o">=&gt;</span> <span class="mi">1200</span><span class="p">,</span>
  <span class="ss">:summary</span> <span class="o">=&gt;</span> <span class="s1">'Fixing manually'</span>
<span class="p">},</span> <span class="p">{</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'9c5cad20-3fa8-4dec-97d1-405c9e1eb66d'</span><span class="p">,</span>
  <span class="ss">:duration</span> <span class="o">=&gt;</span> <span class="mi">3000</span><span class="p">,</span>
  <span class="ss">:summary</span> <span class="o">=&gt;</span> <span class="s1">'Power return expected'</span>
<span class="p">})</span>
</code></pre>


<h3>Description</h3>
<p>Acknowledge a check, or acknowledge all checks linked to a tag.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"check"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tag"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acknowledgement"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>acknowledgement to create</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="w">    </span><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"check"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tag"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acknowledgement"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"prev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>acknowledgement creation success</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid data</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>409</td>
<td>Conflict; bad request structure</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>



<h1 id="title_checks">Checks</h1>
<h2 id="POST_checks">POST /checks</h2>


<pre><code class="highlight shell"><span class="c"># required: enabled, initial_failure_delay, name, repeat_failure_delay</span>
<span class="c"># optional: id</span>
curl -w <span class="s1">'response: %{http_code} \n'</span> -X POST <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "check",
        "id": "2937ba38-c26b-4ffc-9db1-6a6fb353d7bb",
        "enabled": true,
        "initial_failure_delay": 1,
        "name": "www.example.com:PING",
        "repeat_failure_delay": 1
      }, {
        "type": "check",
        "id": "30324f99-8fd6-4116-b00d-09078f9b6540",
        "enabled": true,
        "initial_failure_delay": 1,
        "name": "www.example.com:SSH",
        "repeat_failure_delay": 1
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/checks
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="c1"># required: enabled, initial_failure_delay, name, repeat_failure_delay</span>
<span class="c1"># optional: id</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">create_checks</span><span class="p">({</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'2937ba38-c26b-4ffc-9db1-6a6fb353d7bb'</span><span class="p">,</span>
  <span class="ss">:enabled</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">,</span>
  <span class="ss">:initial_failure_delay</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
  <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'www.example.com:PING'</span><span class="p">,</span>
  <span class="ss">:repeat_failure_delay</span> <span class="o">=&gt;</span> <span class="mi">1</span>
<span class="p">},</span> <span class="p">{</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'30324f99-8fd6-4116-b00d-09078f9b6540'</span><span class="p">,</span>
  <span class="ss">:enabled</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">,</span>
  <span class="ss">:initial_failure_delay</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
  <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'www.example.com:SSH'</span><span class="p">,</span>
  <span class="ss">:repeat_failure_delay</span> <span class="o">=&gt;</span> <span class="mi">1</span>
<span class="p">})</span>
</code></pre>


<h3>Description</h3>
<p>Create a check.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"initial_failure_delay"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"repeat_failure_delay"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>check to create</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="w">    </span><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"ack_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"condition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;ok|critical|warning|unknown&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"failing"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"initial_failure_delay"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"alerting_media"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"contacts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"current_scheduled_maintenances"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scheduled_maintenance"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"current_state"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"state"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"current_unscheduled_maintenance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unscheduled_maintenance"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"latest_notifications"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"state"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"scheduled_maintenances"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scheduled_maintenance"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"states"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"state"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"unscheduled_maintenances"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unscheduled_maintenance"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"repeat_failure_delay"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"included"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;check|contact|medium|rule|scheduled_maintenance|state|tag|unscheduled_maintenance&gt;"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"prev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>check creation success</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid data</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>409</td>
<td>Conflict; bad request structure</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="GET_checks_check_id">GET /checks/{check_id}</h2>


<pre><code class="highlight shell">curl -w <span class="s1">'response: %{http_code} \n'</span> -X GET <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
http://localhost:3081/checks/2937ba38-c26b-4ffc-9db1-6a6fb353d7bb
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">checks</span><span class="p">(</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'2937ba38-c26b-4ffc-9db1-6a6fb353d7bb'</span><span class="p">}</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Returns data for a check.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>check_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a check</td>
<td>

  uuid
</td>
</tr>
<tr>
<td>fields</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td>Comma-separated list of fields to return</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="w">    </span><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"ack_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"condition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;ok|critical|warning|unknown&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"failing"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"initial_failure_delay"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"alerting_media"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"contacts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"current_scheduled_maintenances"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scheduled_maintenance"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"current_state"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"state"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"current_unscheduled_maintenance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unscheduled_maintenance"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"latest_notifications"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"state"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"scheduled_maintenances"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scheduled_maintenance"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"states"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"state"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"unscheduled_maintenances"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unscheduled_maintenance"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"repeat_failure_delay"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"included"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;check|contact|medium|rule|scheduled_maintenance|state|tag|unscheduled_maintenance&gt;"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"prev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET check response</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="GET_checks">GET /checks</h2>


<pre><code class="highlight shell">curl -w <span class="s1">'response: %{http_code} \n'</span> -X GET <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
http://localhost:3081/checks
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">checks</span><span class="p">(</span>
  <span class="ss">:fields</span>   <span class="o">=&gt;</span> <span class="p">[],</span> <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span>   <span class="o">=&gt;</span> <span class="p">{},</span> <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span>  <span class="o">=&gt;</span> <span class="p">[],</span> <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span>     <span class="o">=&gt;</span> <span class="p">[],</span> <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span>     <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>  <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Returns data for multiple check records.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>fields</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td>Comma-separated list of fields to return</td>
<td>

  
</td>
</tr>
<tr>
<td>sort</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td></td>
<td>

  
</td>
</tr>
<tr>
<td>filter</td>
<td>query</td>
<td>array</td>
<td>no</td>
<td></td>
<td>


</td>
</tr>
<tr>
<td>include</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td></td>
<td>

  
</td>
</tr>
<tr>
<td>page</td>
<td>query</td>
<td>integer</td>
<td>no</td>
<td>Page number</td>
<td>

  
</td>
</tr>
<tr>
<td>per_page</td>
<td>query</td>
<td>integer</td>
<td>no</td>
<td>Number of checks per page</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="w">    </span><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"ack_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"condition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;ok|critical|warning|unknown&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"failing"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"initial_failure_delay"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"alerting_media"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"contacts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"current_scheduled_maintenances"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scheduled_maintenance"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"current_state"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"state"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"current_unscheduled_maintenance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unscheduled_maintenance"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"latest_notifications"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"state"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"scheduled_maintenances"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scheduled_maintenance"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"states"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"state"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"unscheduled_maintenances"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unscheduled_maintenance"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"repeat_failure_delay"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"included"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;check|contact|medium|rule|scheduled_maintenance|state|tag|unscheduled_maintenance&gt;"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"prev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"per_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"total_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET checks success</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="PATCH_checks_check_id">PATCH /checks/{check_id}</h2>


<pre><code class="highlight shell"><span class="c"># required: id</span>
<span class="c"># optional: enabled, initial_failure_delay, name, repeat_failure_delay</span>
curl -w <span class="s1">'response: %{http_code} \n'</span> -X PATCH <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "check",
        "id": "2937ba38-c26b-4ffc-9db1-6a6fb353d7bb",
        "enabled": true,
        "initial_failure_delay": 1,
        "name": "www.example.com:PING",
        "repeat_failure_delay": 1
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/checks/2937ba38-c26b-4ffc-9db1-6a6fb353d7bb
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="c1"># required: id</span>
<span class="c1"># optional: enabled, initial_failure_delay, name, repeat_failure_delay</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">update_checks</span><span class="p">(</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'2937ba38-c26b-4ffc-9db1-6a6fb353d7bb'</span><span class="p">,</span>
  <span class="ss">:enabled</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">,</span>
  <span class="ss">:initial_failure_delay</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
  <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'www.example.com:PING'</span><span class="p">,</span>
  <span class="ss">:repeat_failure_delay</span> <span class="o">=&gt;</span> <span class="mi">1</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Update a check.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"initial_failure_delay"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"repeat_failure_delay"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>check_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a check</td>
<td>

  uuid
</td>
</tr>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>Check to update</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; Check update success</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid data</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
<tr>
<td>409</td>
<td>Conflict; request id mismatch</td>
</tr>
</tbody>
</table>



<h2 id="PATCH_checks">PATCH /checks</h2>


<pre><code class="highlight shell"><span class="c"># required: id</span>
<span class="c"># optional: enabled, initial_failure_delay, name, repeat_failure_delay</span>
curl -w <span class="s1">'response: %{http_code} \n'</span> -X PATCH <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "check",
        "id": "2937ba38-c26b-4ffc-9db1-6a6fb353d7bb",
        "enabled": true,
        "initial_failure_delay": 1,
        "name": "www.example.com:PING",
        "repeat_failure_delay": 1
      }, {
        "type": "check",
        "id": "30324f99-8fd6-4116-b00d-09078f9b6540",
        "enabled": true,
        "initial_failure_delay": 1,
        "name": "www.example.com:SSH",
        "repeat_failure_delay": 1
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/checks
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="c1"># required: id</span>
<span class="c1"># optional: enabled, initial_failure_delay, name, repeat_failure_delay</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">update_checks</span><span class="p">({</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'2937ba38-c26b-4ffc-9db1-6a6fb353d7bb'</span><span class="p">,</span>
  <span class="ss">:enabled</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">,</span>
  <span class="ss">:initial_failure_delay</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
  <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'www.example.com:PING'</span><span class="p">,</span>
  <span class="ss">:repeat_failure_delay</span> <span class="o">=&gt;</span> <span class="mi">1</span>
<span class="p">},</span> <span class="p">{</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'30324f99-8fd6-4116-b00d-09078f9b6540'</span><span class="p">,</span>
  <span class="ss">:enabled</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">,</span>
  <span class="ss">:initial_failure_delay</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
  <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'www.example.com:SSH'</span><span class="p">,</span>
  <span class="ss">:repeat_failure_delay</span> <span class="o">=&gt;</span> <span class="mi">1</span>
<span class="p">})</span>
</code></pre>


<h3>Description</h3>
<p>Update checks.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"initial_failure_delay"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"repeat_failure_delay"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>checks to update</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; ext=bulk</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; checks update succeeded</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid data</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
<tr>
<td>409</td>
<td>Conflict; request id mismatch</td>
</tr>
</tbody>
</table>



<h2 id="DELETE_checks_check_id">DELETE /checks/{check_id}</h2>


<pre><code class="highlight shell">curl -w <span class="s1">'response: %{http_code} \n'</span> -X DELETE <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "check",
        "id": "2937ba38-c26b-4ffc-9db1-6a6fb353d7bb",
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/checks/2937ba38-c26b-4ffc-9db1-6a6fb353d7bb
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">delete_checks</span><span class="p">(</span>
  <span class="s1">'2937ba38-c26b-4ffc-9db1-6a6fb353d7bb'</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Delete a check.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>check_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a check</td>
<td>

  uuid
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; Check deletion success</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="DELETE_checks">DELETE /checks</h2>


<pre><code class="highlight shell">curl -w <span class="s1">'response: %{http_code} \n'</span> -X DELETE <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "check",
        "id": "2937ba38-c26b-4ffc-9db1-6a6fb353d7bb",
      }, {
        "type": "check",
        "id": "30324f99-8fd6-4116-b00d-09078f9b6540",
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/checks
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">delete_checks</span><span class="p">(</span>
  <span class="s1">'2937ba38-c26b-4ffc-9db1-6a6fb353d7bb'</span><span class="p">,</span>
  <span class="s1">'30324f99-8fd6-4116-b00d-09078f9b6540'</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Delete checks.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>checks to delete</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; ext=bulk</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; checks deletion succeeded</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="GET_checks_check_id_alerting_media">GET /checks/{check_id}/alerting_media</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">check_link_alerting_media</span><span class="p">(</span>
  <span class="ss">:fields</span> <span class="o">=&gt;</span> <span class="p">[],</span>   <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{},</span>   <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span> <span class="o">=&gt;</span> <span class="p">[],</span>  <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span> <span class="o">=&gt;</span> <span class="p">[],</span>     <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>      <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>While this check is failing, returns media records which are receiving notifications during this failure.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>check_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a check</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET checks response</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid request</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="GET_checks_check_id_contacts">GET /checks/{check_id}/contacts</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">check_link_contacts</span><span class="p">(</span>
  <span class="ss">:fields</span> <span class="o">=&gt;</span> <span class="p">[],</span>   <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{},</span>   <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span> <span class="o">=&gt;</span> <span class="p">[],</span>  <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span> <span class="o">=&gt;</span> <span class="p">[],</span>     <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>      <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Returns contacts whose notification rules will allow them to receive notifications for events on this check.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>check_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a check</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact"</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET checks response</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid request</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="GET_checks_check_id_current_scheduled_maintenances">GET /checks/{check_id}/current_scheduled_maintenances</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">check_link_current_scheduled_maintenances</span><span class="p">(</span>
  <span class="ss">:fields</span> <span class="o">=&gt;</span> <span class="p">[],</span>   <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{},</span>   <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span> <span class="o">=&gt;</span> <span class="p">[],</span>  <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span> <span class="o">=&gt;</span> <span class="p">[],</span>     <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>      <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Returns scheduled maintenance periods currently in  effect for this check.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>check_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a check</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scheduled_maintenance"</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET checks response</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid request</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="GET_checks_check_id_current_state">GET /checks/{check_id}/current_state</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">check_link_current_state</span><span class="p">(</span>
  <span class="ss">:fields</span> <span class="o">=&gt;</span> <span class="p">[],</span>   <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{},</span>   <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span> <span class="o">=&gt;</span> <span class="p">[],</span>  <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span> <span class="o">=&gt;</span> <span class="p">[],</span>     <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>      <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Returns the current State record for this check.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>check_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a check</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="w">    </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"state"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET checks current_state success</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid request</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="GET_checks_check_id_current_unscheduled_maintenance">GET /checks/{check_id}/current_unscheduled_maintenance</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">check_link_current_unscheduled_maintenance</span><span class="p">(</span>
  <span class="ss">:fields</span> <span class="o">=&gt;</span> <span class="p">[],</span>   <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{},</span>   <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span> <span class="o">=&gt;</span> <span class="p">[],</span>  <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span> <span class="o">=&gt;</span> <span class="p">[],</span>     <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>      <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>If the check is currently acknowledged, returns the unscheduled maintenance period created for that.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>check_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a check</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="w">    </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unscheduled_maintenance"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET checks current_unscheduled_maintenance success</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid request</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="GET_checks_check_id_latest_notifications">GET /checks/{check_id}/latest_notifications</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">check_link_latest_notifications</span><span class="p">(</span>
  <span class="ss">:fields</span> <span class="o">=&gt;</span> <span class="p">[],</span>   <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{},</span>   <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span> <span class="o">=&gt;</span> <span class="p">[],</span>  <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span> <span class="o">=&gt;</span> <span class="p">[],</span>     <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>      <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Returns the most recent State records for each problem condition that produced notifications.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>check_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a check</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"state"</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET checks response</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid request</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="GET_checks_check_id_scheduled_maintenances">GET /checks/{check_id}/scheduled_maintenances</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">check_link_scheduled_maintenances</span><span class="p">(</span>
  <span class="ss">:fields</span> <span class="o">=&gt;</span> <span class="p">[],</span>   <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{},</span>   <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span> <span class="o">=&gt;</span> <span class="p">[],</span>  <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span> <span class="o">=&gt;</span> <span class="p">[],</span>     <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>      <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Returns all scheduled maintenance periods for the check; default sort order is newest first.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>check_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a check</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scheduled_maintenance"</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET checks response</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid request</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="GET_checks_check_id_states">GET /checks/{check_id}/states</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">check_link_states</span><span class="p">(</span>
  <span class="ss">:fields</span> <span class="o">=&gt;</span> <span class="p">[],</span>   <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{},</span>   <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span> <span class="o">=&gt;</span> <span class="p">[],</span>  <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span> <span class="o">=&gt;</span> <span class="p">[],</span>     <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>      <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Returns all state records for the check; default sort order is newest first.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>check_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a check</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"state"</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET checks response</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid request</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="POST_checks_check_id_relationships_tags">POST /checks/{check_id}/relationships/tags</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">create_check_link_tags</span><span class="p">({</span>
  <span class="s1">'2937ba38-c26b-4ffc-9db1-6a6fb353d7bb'</span><span class="p">,</span> <span class="c1"># check</span>
  <span class="s1">'30324f99-8fd6-4116-b00d-09078f9b6540'</span><span class="p">,</span> <span class="c1"># tag</span>
  <span class="s1">'24aa4440-9b37-46c1-a35b-7649a3018aa5'</span>  <span class="c1"># tag</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Associate tags with this check.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>check_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a check</td>
<td>

  
</td>
</tr>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>tags to associate with the check</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; link creation success</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; no link ids</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="GET_checks_check_id_tags">GET /checks/{check_id}/tags</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">check_link_tags</span><span class="p">(</span>
  <span class="ss">:fields</span> <span class="o">=&gt;</span> <span class="p">[],</span>   <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{},</span>   <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span> <span class="o">=&gt;</span> <span class="p">[],</span>  <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span> <span class="o">=&gt;</span> <span class="p">[],</span>     <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>      <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Returns all tags linked to this check.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>check_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a check</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET checks response</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid request</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="PATCH_checks_check_id_relationships_tags">PATCH /checks/{check_id}/relationships/tags</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">update_check_link_tags</span><span class="p">({</span>
  <span class="s1">'2937ba38-c26b-4ffc-9db1-6a6fb353d7bb'</span><span class="p">,</span> <span class="c1"># check</span>
  <span class="s1">'30324f99-8fd6-4116-b00d-09078f9b6540'</span><span class="p">,</span> <span class="c1"># tag</span>
  <span class="s1">'24aa4440-9b37-46c1-a35b-7649a3018aa5'</span>  <span class="c1"># tag</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Update the tags associated with this check.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>check_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a check</td>
<td>

  
</td>
</tr>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>tags associations to replace for the check</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; link update succeeded</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; no link ids</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="DELETE_checks_check_id_relationships_tags">DELETE /checks/{check_id}/relationships/tags</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">delete_check_link_tags</span><span class="p">(</span>
  <span class="s1">'2937ba38-c26b-4ffc-9db1-6a6fb353d7bb'</span><span class="p">,</span> <span class="c1"># check</span>
  <span class="s1">'30324f99-8fd6-4116-b00d-09078f9b6540'</span><span class="p">,</span> <span class="c1"># tag</span>
  <span class="s1">'24aa4440-9b37-46c1-a35b-7649a3018aa5'</span>  <span class="c1"># tag</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Delete associations between tags and this check.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>check_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a check</td>
<td>

  
</td>
</tr>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>tags to remove from the check</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; link deletion success</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; no link ids</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="GET_checks_check_id_unscheduled_maintenances">GET /checks/{check_id}/unscheduled_maintenances</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">check_link_unscheduled_maintenances</span><span class="p">(</span>
  <span class="ss">:fields</span> <span class="o">=&gt;</span> <span class="p">[],</span>   <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{},</span>   <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span> <span class="o">=&gt;</span> <span class="p">[],</span>  <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span> <span class="o">=&gt;</span> <span class="p">[],</span>     <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>      <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Returns all unscheduled maintenance periods for the check; default sort order is newest first.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>check_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a check</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unscheduled_maintenance"</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET checks response</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid request</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>



<h1 id="title_contacts">Contacts</h1>
<h2 id="POST_contacts">POST /contacts</h2>


<pre><code class="highlight shell"><span class="c"># required: name</span>
<span class="c"># optional: id, timezone</span>
curl -w <span class="s1">'response: %{http_code} \n'</span> -X POST <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "contact",
        "id": "8031bc9e-e6b4-4667-867d-694d1513319a",
        "name": "Lucia Moretti",
        "timezone": "Europe/Rome"
      }, {
        "type": "contact",
        "id": "a76af83a-404a-4d12-a3e9-82ec8792a1ed",
        "name": "Vera Дурейко",
        "timezone": "Europe/Paris"
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/contacts
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="c1"># required: name</span>
<span class="c1"># optional: id, timezone</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">create_contacts</span><span class="p">({</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'8031bc9e-e6b4-4667-867d-694d1513319a'</span><span class="p">,</span>
  <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'Lucia Moretti'</span><span class="p">,</span>
  <span class="ss">:timezone</span> <span class="o">=&gt;</span> <span class="s1">'Europe/Rome'</span>
<span class="p">},</span> <span class="p">{</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'a76af83a-404a-4d12-a3e9-82ec8792a1ed'</span><span class="p">,</span>
  <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'Vera Дурейко'</span><span class="p">,</span>
  <span class="ss">:timezone</span> <span class="o">=&gt;</span> <span class="s1">'Europe/Paris'</span>
<span class="p">})</span>
</code></pre>


<h3>Description</h3>
<p>Create a contact.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>contact to create</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="w">    </span><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"checks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"media"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"included"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;check|contact|medium|rule|scheduled_maintenance|state|tag|unscheduled_maintenance&gt;"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"prev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>contact creation success</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid data</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>409</td>
<td>Conflict; bad request structure</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="GET_contacts_contact_id">GET /contacts/{contact_id}</h2>


<pre><code class="highlight shell">curl -w <span class="s1">'response: %{http_code} \n'</span> -X GET <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
http://localhost:3081/contacts/8031bc9e-e6b4-4667-867d-694d1513319a
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">contacts</span><span class="p">(</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'8031bc9e-e6b4-4667-867d-694d1513319a'</span><span class="p">}</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Get data for a contact.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>contact_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a contact</td>
<td>

  uuid
</td>
</tr>
<tr>
<td>fields</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td>Comma-separated list of fields to return</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="w">    </span><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"checks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"media"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"included"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;check|contact|medium|rule|scheduled_maintenance|state|tag|unscheduled_maintenance&gt;"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"prev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET contact response</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="GET_contacts">GET /contacts</h2>


<pre><code class="highlight shell">curl -w <span class="s1">'response: %{http_code} \n'</span> -X GET <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
http://localhost:3081/contacts
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">contacts</span><span class="p">(</span>
  <span class="ss">:fields</span>   <span class="o">=&gt;</span> <span class="p">[],</span> <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span>   <span class="o">=&gt;</span> <span class="p">{},</span> <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span>  <span class="o">=&gt;</span> <span class="p">[],</span> <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span>     <span class="o">=&gt;</span> <span class="p">[],</span> <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span>     <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>  <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Get data for multiple contacts.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>fields</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td>Comma-separated list of fields to return</td>
<td>

  
</td>
</tr>
<tr>
<td>sort</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td></td>
<td>

  
</td>
</tr>
<tr>
<td>filter</td>
<td>query</td>
<td>array</td>
<td>no</td>
<td></td>
<td>


</td>
</tr>
<tr>
<td>include</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td></td>
<td>

  
</td>
</tr>
<tr>
<td>page</td>
<td>query</td>
<td>integer</td>
<td>no</td>
<td>Page number</td>
<td>

  
</td>
</tr>
<tr>
<td>per_page</td>
<td>query</td>
<td>integer</td>
<td>no</td>
<td>Number of contacts per page</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="w">    </span><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"checks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"media"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"included"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;check|contact|medium|rule|scheduled_maintenance|state|tag|unscheduled_maintenance&gt;"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"prev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"per_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"total_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET contacts success</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="PATCH_contacts_contact_id">PATCH /contacts/{contact_id}</h2>


<pre><code class="highlight shell"><span class="c"># required: id</span>
<span class="c"># optional: name, timezone</span>
curl -w <span class="s1">'response: %{http_code} \n'</span> -X PATCH <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "contact",
        "id": "8031bc9e-e6b4-4667-867d-694d1513319a",
        "name": "Lucia Moretti",
        "timezone": "Europe/Rome"
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/contacts/8031bc9e-e6b4-4667-867d-694d1513319a
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="c1"># required: id</span>
<span class="c1"># optional: name, timezone</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">update_contacts</span><span class="p">(</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'8031bc9e-e6b4-4667-867d-694d1513319a'</span><span class="p">,</span>
  <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'Lucia Moretti'</span><span class="p">,</span>
  <span class="ss">:timezone</span> <span class="o">=&gt;</span> <span class="s1">'Europe/Rome'</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Update a contact record.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"media"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>contact_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a contact</td>
<td>

  uuid
</td>
</tr>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>Contact to update</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; Contact update success</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid data</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
<tr>
<td>409</td>
<td>Conflict; request id mismatch</td>
</tr>
</tbody>
</table>



<h2 id="PATCH_contacts">PATCH /contacts</h2>


<pre><code class="highlight shell"><span class="c"># required: id</span>
<span class="c"># optional: name, timezone</span>
curl -w <span class="s1">'response: %{http_code} \n'</span> -X PATCH <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "contact",
        "id": "8031bc9e-e6b4-4667-867d-694d1513319a",
        "name": "Lucia Moretti",
        "timezone": "Europe/Rome"
      }, {
        "type": "contact",
        "id": "a76af83a-404a-4d12-a3e9-82ec8792a1ed",
        "name": "Vera Дурейко",
        "timezone": "Europe/Paris"
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/contacts
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="c1"># required: id</span>
<span class="c1"># optional: name, timezone</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">update_contacts</span><span class="p">({</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'8031bc9e-e6b4-4667-867d-694d1513319a'</span><span class="p">,</span>
  <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'Lucia Moretti'</span><span class="p">,</span>
  <span class="ss">:timezone</span> <span class="o">=&gt;</span> <span class="s1">'Europe/Rome'</span>
<span class="p">},</span> <span class="p">{</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'a76af83a-404a-4d12-a3e9-82ec8792a1ed'</span><span class="p">,</span>
  <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'Vera Дурейко'</span><span class="p">,</span>
  <span class="ss">:timezone</span> <span class="o">=&gt;</span> <span class="s1">'Europe/Paris'</span>
<span class="p">})</span>
</code></pre>


<h3>Description</h3>
<p>Update contact records.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"media"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>contacts to update</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; ext=bulk</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; contacts update succeeded</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid data</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
<tr>
<td>409</td>
<td>Conflict; request id mismatch</td>
</tr>
</tbody>
</table>



<h2 id="DELETE_contacts_contact_id">DELETE /contacts/{contact_id}</h2>


<pre><code class="highlight shell">curl -w <span class="s1">'response: %{http_code} \n'</span> -X DELETE <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "contact",
        "id": "8031bc9e-e6b4-4667-867d-694d1513319a",
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/contacts/8031bc9e-e6b4-4667-867d-694d1513319a
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">delete_contacts</span><span class="p">(</span>
  <span class="s1">'8031bc9e-e6b4-4667-867d-694d1513319a'</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Delete a contact.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>contact_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a contact</td>
<td>

  uuid
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; Contact deletion success</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="DELETE_contacts">DELETE /contacts</h2>


<pre><code class="highlight shell">curl -w <span class="s1">'response: %{http_code} \n'</span> -X DELETE <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "contact",
        "id": "8031bc9e-e6b4-4667-867d-694d1513319a",
      }, {
        "type": "contact",
        "id": "a76af83a-404a-4d12-a3e9-82ec8792a1ed",
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/contacts
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">delete_contacts</span><span class="p">(</span>
  <span class="s1">'8031bc9e-e6b4-4667-867d-694d1513319a'</span><span class="p">,</span>
  <span class="s1">'a76af83a-404a-4d12-a3e9-82ec8792a1ed'</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Delete contacts.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>contacts to delete</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; ext=bulk</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; contacts deletion succeeded</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="GET_contacts_contact_id_checks">GET /contacts/{contact_id}/checks</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">contact_link_checks</span><span class="p">(</span>
  <span class="ss">:fields</span> <span class="o">=&gt;</span> <span class="p">[],</span>   <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{},</span>   <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span> <span class="o">=&gt;</span> <span class="p">[],</span>  <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span> <span class="o">=&gt;</span> <span class="p">[],</span>     <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>      <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Returns checks which this contact's notification rules allow it to receive notifications.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>contact_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a contact</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET contacts response</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid request</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="GET_contacts_contact_id_media">GET /contacts/{contact_id}/media</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">contact_link_media</span><span class="p">(</span>
  <span class="ss">:fields</span> <span class="o">=&gt;</span> <span class="p">[],</span>   <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{},</span>   <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span> <span class="o">=&gt;</span> <span class="p">[],</span>  <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span> <span class="o">=&gt;</span> <span class="p">[],</span>     <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>      <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Returns media belonging to the contact.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>contact_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a contact</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET contacts response</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid request</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="GET_contacts_contact_id_rules">GET /contacts/{contact_id}/rules</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">contact_link_rules</span><span class="p">(</span>
  <span class="ss">:fields</span> <span class="o">=&gt;</span> <span class="p">[],</span>   <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{},</span>   <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span> <span class="o">=&gt;</span> <span class="p">[],</span>  <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span> <span class="o">=&gt;</span> <span class="p">[],</span>     <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>      <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Returns rules belonging to the contact.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>contact_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a contact</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET contacts response</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid request</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="POST_contacts_contact_id_relationships_tags">POST /contacts/{contact_id}/relationships/tags</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">create_contact_link_tags</span><span class="p">({</span>
  <span class="s1">'8031bc9e-e6b4-4667-867d-694d1513319a'</span><span class="p">,</span> <span class="c1"># contact</span>
  <span class="s1">'a76af83a-404a-4d12-a3e9-82ec8792a1ed'</span><span class="p">,</span> <span class="c1"># tag</span>
  <span class="s1">'17da47b1-9ebd-46d0-9120-d55597936470'</span>  <span class="c1"># tag</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Associate tags with this contact.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>contact_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a contact</td>
<td>

  
</td>
</tr>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>tags to associate with the contact</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; link creation success</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; no link ids</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="GET_contacts_contact_id_tags">GET /contacts/{contact_id}/tags</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">contact_link_tags</span><span class="p">(</span>
  <span class="ss">:fields</span> <span class="o">=&gt;</span> <span class="p">[],</span>   <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{},</span>   <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span> <span class="o">=&gt;</span> <span class="p">[],</span>  <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span> <span class="o">=&gt;</span> <span class="p">[],</span>     <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>      <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Returns all tags linked to this contact.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>contact_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a contact</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET contacts response</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid request</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="PATCH_contacts_contact_id_relationships_tags">PATCH /contacts/{contact_id}/relationships/tags</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">update_contact_link_tags</span><span class="p">({</span>
  <span class="s1">'8031bc9e-e6b4-4667-867d-694d1513319a'</span><span class="p">,</span> <span class="c1"># contact</span>
  <span class="s1">'a76af83a-404a-4d12-a3e9-82ec8792a1ed'</span><span class="p">,</span> <span class="c1"># tag</span>
  <span class="s1">'17da47b1-9ebd-46d0-9120-d55597936470'</span>  <span class="c1"># tag</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Update the tags associated with this contact.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>contact_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a contact</td>
<td>

  
</td>
</tr>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>tags associations to replace for the contact</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; link update succeeded</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; no link ids</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="DELETE_contacts_contact_id_relationships_tags">DELETE /contacts/{contact_id}/relationships/tags</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">delete_contact_link_tags</span><span class="p">(</span>
  <span class="s1">'8031bc9e-e6b4-4667-867d-694d1513319a'</span><span class="p">,</span> <span class="c1"># contact</span>
  <span class="s1">'a76af83a-404a-4d12-a3e9-82ec8792a1ed'</span><span class="p">,</span> <span class="c1"># tag</span>
  <span class="s1">'17da47b1-9ebd-46d0-9120-d55597936470'</span>  <span class="c1"># tag</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Delete associations between tags and this contact.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>contact_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a contact</td>
<td>

  
</td>
</tr>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>tags to remove from the contact</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; link deletion success</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; no link ids</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>




<h1 id="title_media">Media</h1>
<h2 id="POST_media">POST /media</h2>


<pre><code class="highlight shell"><span class="c"># required: address, transport</span>
<span class="c"># optional: id, interval, pagerduty_ack_duration, pagerduty_subdomain, pagerduty_token, rollup_threshold</span>
curl -w <span class="s1">'response: %{http_code} \n'</span> -X POST <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "medium",
        "id": "b1bba2b3-51d7-4268-8fcb-65fa54ef0263",
        "address": "admin@example.org",
        "transport": "email",
        "interval": "120",
        "pagerduty_ack_duration": null,
        "pagerduty_subdomain": null,
        "pagerduty_token": null,
        "rollup_threshold": "3"
      }, {
        "type": "medium",
        "id": "111bea37-4a95-4941-827d-8b13cd0dd4fa",
        "address": "\u003cpd_service_key\u003e",
        "transport": "pagerduty",
        "interval": "nil",
        "pagerduty_ack_duration": "30",
        "pagerduty_subdomain": "\u003cpd_subdomain\u003e",
        "pagerduty_token": "\u003ctoken\u003e",
        "rollup_threshold": "nil"
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/media
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="c1"># required: address, transport</span>
<span class="c1"># optional: id, interval, pagerduty_ack_duration, pagerduty_subdomain, pagerduty_token, rollup_threshold</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">create_media</span><span class="p">({</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'b1bba2b3-51d7-4268-8fcb-65fa54ef0263'</span><span class="p">,</span>
  <span class="ss">:address</span> <span class="o">=&gt;</span> <span class="s1">'admin@example.org'</span><span class="p">,</span>
  <span class="ss">:transport</span> <span class="o">=&gt;</span> <span class="s1">'email'</span><span class="p">,</span>
  <span class="ss">:interval</span> <span class="o">=&gt;</span> <span class="mi">120</span><span class="p">,</span>
  <span class="ss">:pagerduty_ack_duration</span> <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
  <span class="ss">:pagerduty_subdomain</span> <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
  <span class="ss">:pagerduty_token</span> <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
  <span class="ss">:rollup_threshold</span> <span class="o">=&gt;</span> <span class="mi">3</span>
<span class="p">},</span> <span class="p">{</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'111bea37-4a95-4941-827d-8b13cd0dd4fa'</span><span class="p">,</span>
  <span class="ss">:address</span> <span class="o">=&gt;</span> <span class="s1">'&lt;pd_service_key&gt;'</span><span class="p">,</span>
  <span class="ss">:transport</span> <span class="o">=&gt;</span> <span class="s1">'pagerduty'</span><span class="p">,</span>
  <span class="ss">:interval</span> <span class="o">=&gt;</span> <span class="s1">'nil'</span><span class="p">,</span>
  <span class="ss">:pagerduty_ack_duration</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="ss">:pagerduty_subdomain</span> <span class="o">=&gt;</span> <span class="s1">'&lt;pd_subdomain&gt;'</span><span class="p">,</span>
  <span class="ss">:pagerduty_token</span> <span class="o">=&gt;</span> <span class="s1">'&lt;token&gt;'</span><span class="p">,</span>
  <span class="ss">:rollup_threshold</span> <span class="o">=&gt;</span> <span class="s1">'nil'</span>
<span class="p">})</span>
</code></pre>


<h3>Description</h3>
<p>Create a media record.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pagerduty_ack_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pagerduty_subdomain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pagerduty_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"contact"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"rollup_threshold"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"transport"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;email|jabber|pagerduty|sms|slack|sms_twilio|sms_nexmo|sms_aspsms|sns&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>medium to create</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="w">    </span><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pagerduty_ack_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pagerduty_subdomain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pagerduty_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"contact"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"rollup_threshold"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"transport"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;email|jabber|pagerduty|sms|slack|sms_twilio|sms_nexmo|sms_aspsms|sns&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"included"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;check|contact|medium|rule|scheduled_maintenance|state|tag|unscheduled_maintenance&gt;"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"prev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>medium creation success</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid data</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>409</td>
<td>Conflict; bad request structure</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="GET_media_medium_id">GET /media/{medium_id}</h2>


<pre><code class="highlight shell">curl -w <span class="s1">'response: %{http_code} \n'</span> -X GET <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
http://localhost:3081/media/b1bba2b3-51d7-4268-8fcb-65fa54ef0263
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">media</span><span class="p">(</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'b1bba2b3-51d7-4268-8fcb-65fa54ef0263'</span><span class="p">}</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Returns data for a media record.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>medium_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a medium</td>
<td>

  uuid
</td>
</tr>
<tr>
<td>fields</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td>Comma-separated list of fields to return</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="w">    </span><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pagerduty_ack_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pagerduty_subdomain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pagerduty_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"contact"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"rollup_threshold"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"transport"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;email|jabber|pagerduty|sms|slack|sms_twilio|sms_nexmo|sms_aspsms|sns&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"included"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;check|contact|medium|rule|scheduled_maintenance|state|tag|unscheduled_maintenance&gt;"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"prev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET medium response</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="GET_media">GET /media</h2>


<pre><code class="highlight shell">curl -w <span class="s1">'response: %{http_code} \n'</span> -X GET <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
http://localhost:3081/media
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">media</span><span class="p">(</span>
  <span class="ss">:fields</span>   <span class="o">=&gt;</span> <span class="p">[],</span> <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span>   <span class="o">=&gt;</span> <span class="p">{},</span> <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span>  <span class="o">=&gt;</span> <span class="p">[],</span> <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span>     <span class="o">=&gt;</span> <span class="p">[],</span> <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span>     <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>  <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Returns data for media records.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>fields</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td>Comma-separated list of fields to return</td>
<td>

  
</td>
</tr>
<tr>
<td>sort</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td></td>
<td>

  
</td>
</tr>
<tr>
<td>filter</td>
<td>query</td>
<td>array</td>
<td>no</td>
<td></td>
<td>


</td>
</tr>
<tr>
<td>include</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td></td>
<td>

  
</td>
</tr>
<tr>
<td>page</td>
<td>query</td>
<td>integer</td>
<td>no</td>
<td>Page number</td>
<td>

  
</td>
</tr>
<tr>
<td>per_page</td>
<td>query</td>
<td>integer</td>
<td>no</td>
<td>Number of media per page</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="w">    </span><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pagerduty_ack_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pagerduty_subdomain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pagerduty_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"contact"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"rollup_threshold"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"transport"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;email|jabber|pagerduty|sms|slack|sms_twilio|sms_nexmo|sms_aspsms|sns&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"included"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;check|contact|medium|rule|scheduled_maintenance|state|tag|unscheduled_maintenance&gt;"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"prev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"per_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"total_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET media success</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="PATCH_media_medium_id">PATCH /media/{medium_id}</h2>


<pre><code class="highlight shell"><span class="c"># required: id</span>
<span class="c"># optional: address, interval, pagerduty_ack_duration, pagerduty_subdomain, pagerduty_token, rollup_threshold, transport</span>
curl -w <span class="s1">'response: %{http_code} \n'</span> -X PATCH <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "medium",
        "id": "b1bba2b3-51d7-4268-8fcb-65fa54ef0263",
        "address": "admin@example.org",
        "interval": "120",
        "pagerduty_ack_duration": null,
        "pagerduty_subdomain": null,
        "pagerduty_token": null,
        "rollup_threshold": "3",
        "transport": "email"
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/media/b1bba2b3-51d7-4268-8fcb-65fa54ef0263
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="c1"># required: id</span>
<span class="c1"># optional: address, interval, pagerduty_ack_duration, pagerduty_subdomain, pagerduty_token, rollup_threshold, transport</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">update_media</span><span class="p">(</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'b1bba2b3-51d7-4268-8fcb-65fa54ef0263'</span><span class="p">,</span>
  <span class="ss">:address</span> <span class="o">=&gt;</span> <span class="s1">'admin@example.org'</span><span class="p">,</span>
  <span class="ss">:interval</span> <span class="o">=&gt;</span> <span class="mi">120</span><span class="p">,</span>
  <span class="ss">:pagerduty_ack_duration</span> <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
  <span class="ss">:pagerduty_subdomain</span> <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
  <span class="ss">:pagerduty_token</span> <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
  <span class="ss">:rollup_threshold</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">,</span>
  <span class="ss">:transport</span> <span class="o">=&gt;</span> <span class="s1">'email'</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Update a media record.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pagerduty_ack_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pagerduty_subdomain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pagerduty_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"rollup_threshold"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"transport"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;email|jabber|pagerduty|sms|slack|sms_twilio|sms_nexmo|sms_aspsms|sns&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>medium_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a medium</td>
<td>

  uuid
</td>
</tr>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>Medium to update</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; Medium update success</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid data</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
<tr>
<td>409</td>
<td>Conflict; request id mismatch</td>
</tr>
</tbody>
</table>



<h2 id="PATCH_media">PATCH /media</h2>


<pre><code class="highlight shell"><span class="c"># required: id</span>
<span class="c"># optional: address, interval, pagerduty_ack_duration, pagerduty_subdomain, pagerduty_token, rollup_threshold, transport</span>
curl -w <span class="s1">'response: %{http_code} \n'</span> -X PATCH <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "medium",
        "id": "b1bba2b3-51d7-4268-8fcb-65fa54ef0263",
        "address": "admin@example.org",
        "interval": "120",
        "pagerduty_ack_duration": null,
        "pagerduty_subdomain": null,
        "pagerduty_token": null,
        "rollup_threshold": "3",
        "transport": "email"
      }, {
        "type": "medium",
        "id": "111bea37-4a95-4941-827d-8b13cd0dd4fa",
        "address": "\u003cpd_service_key\u003e",
        "interval": "nil",
        "pagerduty_ack_duration": "30",
        "pagerduty_subdomain": "\u003cpd_subdomain\u003e",
        "pagerduty_token": "\u003ctoken\u003e",
        "rollup_threshold": "nil",
        "transport": "pagerduty"
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/media
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="c1"># required: id</span>
<span class="c1"># optional: address, interval, pagerduty_ack_duration, pagerduty_subdomain, pagerduty_token, rollup_threshold, transport</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">update_media</span><span class="p">({</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'b1bba2b3-51d7-4268-8fcb-65fa54ef0263'</span><span class="p">,</span>
  <span class="ss">:address</span> <span class="o">=&gt;</span> <span class="s1">'admin@example.org'</span><span class="p">,</span>
  <span class="ss">:interval</span> <span class="o">=&gt;</span> <span class="mi">120</span><span class="p">,</span>
  <span class="ss">:pagerduty_ack_duration</span> <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
  <span class="ss">:pagerduty_subdomain</span> <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
  <span class="ss">:pagerduty_token</span> <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
  <span class="ss">:rollup_threshold</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">,</span>
  <span class="ss">:transport</span> <span class="o">=&gt;</span> <span class="s1">'email'</span>
<span class="p">},</span> <span class="p">{</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'111bea37-4a95-4941-827d-8b13cd0dd4fa'</span><span class="p">,</span>
  <span class="ss">:address</span> <span class="o">=&gt;</span> <span class="s1">'&lt;pd_service_key&gt;'</span><span class="p">,</span>
  <span class="ss">:interval</span> <span class="o">=&gt;</span> <span class="s1">'nil'</span><span class="p">,</span>
  <span class="ss">:pagerduty_ack_duration</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="ss">:pagerduty_subdomain</span> <span class="o">=&gt;</span> <span class="s1">'&lt;pd_subdomain&gt;'</span><span class="p">,</span>
  <span class="ss">:pagerduty_token</span> <span class="o">=&gt;</span> <span class="s1">'&lt;token&gt;'</span><span class="p">,</span>
  <span class="ss">:rollup_threshold</span> <span class="o">=&gt;</span> <span class="s1">'nil'</span><span class="p">,</span>
  <span class="ss">:transport</span> <span class="o">=&gt;</span> <span class="s1">'pagerduty'</span>
<span class="p">})</span>
</code></pre>


<h3>Description</h3>
<p>Update media records.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pagerduty_ack_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pagerduty_subdomain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pagerduty_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"rollup_threshold"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"transport"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;email|jabber|pagerduty|sms|slack|sms_twilio|sms_nexmo|sms_aspsms|sns&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>media to update</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; ext=bulk</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; media update succeeded</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid data</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
<tr>
<td>409</td>
<td>Conflict; request id mismatch</td>
</tr>
</tbody>
</table>



<h2 id="DELETE_media_medium_id">DELETE /media/{medium_id}</h2>


<pre><code class="highlight shell">curl -w <span class="s1">'response: %{http_code} \n'</span> -X DELETE <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "medium",
        "id": "b1bba2b3-51d7-4268-8fcb-65fa54ef0263",
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/media/b1bba2b3-51d7-4268-8fcb-65fa54ef0263
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">delete_media</span><span class="p">(</span>
  <span class="s1">'b1bba2b3-51d7-4268-8fcb-65fa54ef0263'</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Delete a media record.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>medium_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a medium</td>
<td>

  uuid
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; Medium deletion success</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="DELETE_media">DELETE /media</h2>


<pre><code class="highlight shell">curl -w <span class="s1">'response: %{http_code} \n'</span> -X DELETE <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "medium",
        "id": "b1bba2b3-51d7-4268-8fcb-65fa54ef0263",
      }, {
        "type": "medium",
        "id": "111bea37-4a95-4941-827d-8b13cd0dd4fa",
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/media
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">delete_media</span><span class="p">(</span>
  <span class="s1">'b1bba2b3-51d7-4268-8fcb-65fa54ef0263'</span><span class="p">,</span>
  <span class="s1">'111bea37-4a95-4941-827d-8b13cd0dd4fa'</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Delete media records.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>media to delete</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; ext=bulk</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; media deletion succeeded</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="GET_media_medium_id_alerting_checks">GET /media/{medium_id}/alerting_checks</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">medium_link_alerting_checks</span><span class="p">(</span>
  <span class="ss">:fields</span> <span class="o">=&gt;</span> <span class="p">[],</span>   <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{},</span>   <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span> <span class="o">=&gt;</span> <span class="p">[],</span>  <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span> <span class="o">=&gt;</span> <span class="p">[],</span>     <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>      <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Returns all checks that have alerted through a medium (that are still failing.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>medium_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a medium</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET media response</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid request</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="GET_media_medium_id_contact">GET /media/{medium_id}/contact</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">medium_link_contact</span><span class="p">(</span>
  <span class="ss">:fields</span> <span class="o">=&gt;</span> <span class="p">[],</span>   <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{},</span>   <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span> <span class="o">=&gt;</span> <span class="p">[],</span>  <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span> <span class="o">=&gt;</span> <span class="p">[],</span>     <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>      <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Get the contact a medium belongs to.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>medium_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a medium</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="w">    </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET media contact success</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid request</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="POST_media_medium_id_relationships_rules">POST /media/{medium_id}/relationships/rules</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">create_medium_link_rules</span><span class="p">({</span>
  <span class="s1">'b1bba2b3-51d7-4268-8fcb-65fa54ef0263'</span><span class="p">,</span> <span class="c1"># medium</span>
  <span class="s1">'111bea37-4a95-4941-827d-8b13cd0dd4fa'</span><span class="p">,</span> <span class="c1"># rule</span>
  <span class="s1">'9fcbfe54-390c-4c89-ad51-ece49019c833'</span>  <span class="c1"># rule</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Associate this medium with rules on medium creation.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>medium_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a medium</td>
<td>

  
</td>
</tr>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>rules to associate with the medium</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; link creation success</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; no link ids</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="GET_media_medium_id_rules">GET /media/{medium_id}/rules</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">medium_link_rules</span><span class="p">(</span>
  <span class="ss">:fields</span> <span class="o">=&gt;</span> <span class="p">[],</span>   <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{},</span>   <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span> <span class="o">=&gt;</span> <span class="p">[],</span>  <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span> <span class="o">=&gt;</span> <span class="p">[],</span>     <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>      <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Get the rules this medium is associated with.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>medium_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a medium</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET media response</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid request</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="PATCH_media_medium_id_relationships_rules">PATCH /media/{medium_id}/relationships/rules</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">update_medium_link_rules</span><span class="p">({</span>
  <span class="s1">'b1bba2b3-51d7-4268-8fcb-65fa54ef0263'</span><span class="p">,</span> <span class="c1"># medium</span>
  <span class="s1">'111bea37-4a95-4941-827d-8b13cd0dd4fa'</span><span class="p">,</span> <span class="c1"># rule</span>
  <span class="s1">'9fcbfe54-390c-4c89-ad51-ece49019c833'</span>  <span class="c1"># rule</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Update the rules this medium is associated with.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>medium_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a medium</td>
<td>

  
</td>
</tr>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>rules associations to replace for the medium</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; link update succeeded</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; no link ids</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="DELETE_media_medium_id_relationships_rules">DELETE /media/{medium_id}/relationships/rules</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">delete_medium_link_rules</span><span class="p">(</span>
  <span class="s1">'b1bba2b3-51d7-4268-8fcb-65fa54ef0263'</span><span class="p">,</span> <span class="c1"># medium</span>
  <span class="s1">'111bea37-4a95-4941-827d-8b13cd0dd4fa'</span><span class="p">,</span> <span class="c1"># rule</span>
  <span class="s1">'9fcbfe54-390c-4c89-ad51-ece49019c833'</span>  <span class="c1"># rule</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Delete associations between this medium and rules.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>medium_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a medium</td>
<td>

  
</td>
</tr>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>rules to remove from the medium</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; link deletion success</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; no link ids</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>




<h1 id="title_metrics">Metrics</h1>
<h2 id="GET_metrics">GET /metrics</h2>


<pre><code class="highlight shell">curl -w <span class="s1">'response: %{http_code} \n'</span> -X GET <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
http://localhost:3081/metrics
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">metrics</span><span class="p">(</span>
  <span class="ss">:fields</span>   <span class="o">=&gt;</span> <span class="p">[],</span> <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span>   <span class="o">=&gt;</span> <span class="p">{},</span> <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span>  <span class="o">=&gt;</span> <span class="p">[],</span> <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span>     <span class="o">=&gt;</span> <span class="p">[],</span> <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span>     <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>  <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Get metrics</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>fields</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td>Comma-separated list of fields to return</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="w">    </span><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"check_counts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"all"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"failing"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"check_freshness"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"0"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"300"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"3600"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"60"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"900"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"event_queue_length"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"processed_events"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"action_events"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"all_events"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"failure_events"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"invalid_events"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ok_events"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"total_keys"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"metrics"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"prev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET metrics response</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>



<h1 id="title_rules">Rules</h1>
<h2 id="POST_rules">POST /rules</h2>


<pre><code class="highlight shell"><span class="c"># required: blackhole, enabled, strategy</span>
<span class="c"># optional: conditions_list, id, name, time_restriction_ical</span>
curl -w <span class="s1">'response: %{http_code} \n'</span> -X POST <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "rule",
        "id": "f85db541-f294-4d83-829b-c27b171cead4",
        "blackhole": "false",
        "enabled": "true",
        "strategy": "global",
        "conditions_list": "critical",
        "name": "all critical",
        "time_restriction_ical": "nil"
      }, {
        "type": "rule",
        "id": "b712205c-ed6a-4d5b-9690-52956963de18",
        "blackhole": "true",
        "enabled": "true",
        "strategy": "any_tag",
        "conditions_list": "nil",
        "name": "no daytime disk usage",
        "time_restriction_ical": "DTSTART;TZID=CET:20130201T080000\\nRRULE:FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR\\nDTEND;TZID=CET:20130201T180000"
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/rules
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="c1"># required: blackhole, enabled, strategy</span>
<span class="c1"># optional: conditions_list, id, name, time_restriction_ical</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">create_rules</span><span class="p">({</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'f85db541-f294-4d83-829b-c27b171cead4'</span><span class="p">,</span>
  <span class="ss">:blackhole</span> <span class="o">=&gt;</span> <span class="kp">false</span><span class="p">,</span>
  <span class="ss">:enabled</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">,</span>
  <span class="ss">:strategy</span> <span class="o">=&gt;</span> <span class="s1">'global'</span><span class="p">,</span>
  <span class="ss">:conditions_list</span> <span class="o">=&gt;</span> <span class="s1">'critical'</span><span class="p">,</span>
  <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'all critical'</span><span class="p">,</span>
  <span class="ss">:time_restriction_ical</span> <span class="o">=&gt;</span> <span class="s1">'nil'</span>
<span class="p">},</span> <span class="p">{</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'b712205c-ed6a-4d5b-9690-52956963de18'</span><span class="p">,</span>
  <span class="ss">:blackhole</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">,</span>
  <span class="ss">:enabled</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">,</span>
  <span class="ss">:strategy</span> <span class="o">=&gt;</span> <span class="s1">'any_tag'</span><span class="p">,</span>
  <span class="ss">:conditions_list</span> <span class="o">=&gt;</span> <span class="s1">'nil'</span><span class="p">,</span>
  <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'no daytime disk usage'</span><span class="p">,</span>
  <span class="ss">:time_restriction_ical</span> <span class="o">=&gt;</span> <span class="s1">'DTSTART;TZID=CET:20130201T080000\nRRULE:FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR\nDTEND;TZID=CET:20130201T180000'</span>
<span class="p">})</span>
</code></pre>


<h3>Description</h3>
<p>Create a notification rule.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"blackhole"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"conditions_list"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"contact"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"media"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"strategy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;global|any_tag|all_tags|no_tag&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time_restriction_ical"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>rule to create</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="w">    </span><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"blackhole"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"conditions_list"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"contact"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"media"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"strategy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;global|any_tag|all_tags|no_tag&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time_restriction_ical"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"included"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;check|contact|medium|rule|scheduled_maintenance|state|tag|unscheduled_maintenance&gt;"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"prev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>rule creation success</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid data</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>409</td>
<td>Conflict; bad request structure</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="GET_rules_rule_id">GET /rules/{rule_id}</h2>


<pre><code class="highlight shell">curl -w <span class="s1">'response: %{http_code} \n'</span> -X GET <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
http://localhost:3081/rules/f85db541-f294-4d83-829b-c27b171cead4
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">rules</span><span class="p">(</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'f85db541-f294-4d83-829b-c27b171cead4'</span><span class="p">}</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Get data for a notification rule.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>rule_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a rule</td>
<td>

  uuid
</td>
</tr>
<tr>
<td>fields</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td>Comma-separated list of fields to return</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="w">    </span><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"blackhole"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"conditions_list"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"contact"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"media"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"strategy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;global|any_tag|all_tags|no_tag&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time_restriction_ical"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"included"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;check|contact|medium|rule|scheduled_maintenance|state|tag|unscheduled_maintenance&gt;"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"prev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET rule response</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="GET_rules">GET /rules</h2>


<pre><code class="highlight shell">curl -w <span class="s1">'response: %{http_code} \n'</span> -X GET <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
http://localhost:3081/rules
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">rules</span><span class="p">(</span>
  <span class="ss">:fields</span>   <span class="o">=&gt;</span> <span class="p">[],</span> <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span>   <span class="o">=&gt;</span> <span class="p">{},</span> <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span>  <span class="o">=&gt;</span> <span class="p">[],</span> <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span>     <span class="o">=&gt;</span> <span class="p">[],</span> <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span>     <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>  <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Get data for multiple notification rules.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>fields</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td>Comma-separated list of fields to return</td>
<td>

  
</td>
</tr>
<tr>
<td>sort</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td></td>
<td>

  
</td>
</tr>
<tr>
<td>filter</td>
<td>query</td>
<td>array</td>
<td>no</td>
<td></td>
<td>


</td>
</tr>
<tr>
<td>include</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td></td>
<td>

  
</td>
</tr>
<tr>
<td>page</td>
<td>query</td>
<td>integer</td>
<td>no</td>
<td>Page number</td>
<td>

  
</td>
</tr>
<tr>
<td>per_page</td>
<td>query</td>
<td>integer</td>
<td>no</td>
<td>Number of rules per page</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="w">    </span><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"blackhole"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"conditions_list"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"contact"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"media"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"strategy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;global|any_tag|all_tags|no_tag&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time_restriction_ical"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"included"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;check|contact|medium|rule|scheduled_maintenance|state|tag|unscheduled_maintenance&gt;"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"prev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"per_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"total_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET rules success</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="PATCH_rules_rule_id">PATCH /rules/{rule_id}</h2>


<pre><code class="highlight shell"><span class="c"># required: id</span>
<span class="c"># optional: blackhole, conditions_list, enabled, name, strategy, time_restriction_ical</span>
curl -w <span class="s1">'response: %{http_code} \n'</span> -X PATCH <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "rule",
        "id": "f85db541-f294-4d83-829b-c27b171cead4",
        "blackhole": "false",
        "conditions_list": "critical",
        "enabled": "true",
        "name": "all critical",
        "strategy": "global",
        "time_restriction_ical": "nil"
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/rules/f85db541-f294-4d83-829b-c27b171cead4
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="c1"># required: id</span>
<span class="c1"># optional: blackhole, conditions_list, enabled, name, strategy, time_restriction_ical</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">update_rules</span><span class="p">(</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'f85db541-f294-4d83-829b-c27b171cead4'</span><span class="p">,</span>
  <span class="ss">:blackhole</span> <span class="o">=&gt;</span> <span class="kp">false</span><span class="p">,</span>
  <span class="ss">:conditions_list</span> <span class="o">=&gt;</span> <span class="s1">'critical'</span><span class="p">,</span>
  <span class="ss">:enabled</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">,</span>
  <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'all critical'</span><span class="p">,</span>
  <span class="ss">:strategy</span> <span class="o">=&gt;</span> <span class="s1">'global'</span><span class="p">,</span>
  <span class="ss">:time_restriction_ical</span> <span class="o">=&gt;</span> <span class="s1">'nil'</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Update a notification rule.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"blackhole"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"conditions_list"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"media"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"strategy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;global|any_tag|all_tags|no_tag&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time_restriction_ical"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>rule_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a rule</td>
<td>

  uuid
</td>
</tr>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>Rule to update</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; Rule update success</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid data</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
<tr>
<td>409</td>
<td>Conflict; request id mismatch</td>
</tr>
</tbody>
</table>



<h2 id="PATCH_rules">PATCH /rules</h2>


<pre><code class="highlight shell"><span class="c"># required: id</span>
<span class="c"># optional: blackhole, conditions_list, enabled, name, strategy, time_restriction_ical</span>
curl -w <span class="s1">'response: %{http_code} \n'</span> -X PATCH <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "rule",
        "id": "f85db541-f294-4d83-829b-c27b171cead4",
        "blackhole": "false",
        "conditions_list": "critical",
        "enabled": "true",
        "name": "all critical",
        "strategy": "global",
        "time_restriction_ical": "nil"
      }, {
        "type": "rule",
        "id": "b712205c-ed6a-4d5b-9690-52956963de18",
        "blackhole": "true",
        "conditions_list": "nil",
        "enabled": "true",
        "name": "no daytime disk usage",
        "strategy": "any_tag",
        "time_restriction_ical": "DTSTART;TZID=CET:20130201T080000\\nRRULE:FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR\\nDTEND;TZID=CET:20130201T180000"
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/rules
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="c1"># required: id</span>
<span class="c1"># optional: blackhole, conditions_list, enabled, name, strategy, time_restriction_ical</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">update_rules</span><span class="p">({</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'f85db541-f294-4d83-829b-c27b171cead4'</span><span class="p">,</span>
  <span class="ss">:blackhole</span> <span class="o">=&gt;</span> <span class="kp">false</span><span class="p">,</span>
  <span class="ss">:conditions_list</span> <span class="o">=&gt;</span> <span class="s1">'critical'</span><span class="p">,</span>
  <span class="ss">:enabled</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">,</span>
  <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'all critical'</span><span class="p">,</span>
  <span class="ss">:strategy</span> <span class="o">=&gt;</span> <span class="s1">'global'</span><span class="p">,</span>
  <span class="ss">:time_restriction_ical</span> <span class="o">=&gt;</span> <span class="s1">'nil'</span>
<span class="p">},</span> <span class="p">{</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'b712205c-ed6a-4d5b-9690-52956963de18'</span><span class="p">,</span>
  <span class="ss">:blackhole</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">,</span>
  <span class="ss">:conditions_list</span> <span class="o">=&gt;</span> <span class="s1">'nil'</span><span class="p">,</span>
  <span class="ss">:enabled</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">,</span>
  <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'no daytime disk usage'</span><span class="p">,</span>
  <span class="ss">:strategy</span> <span class="o">=&gt;</span> <span class="s1">'any_tag'</span><span class="p">,</span>
  <span class="ss">:time_restriction_ical</span> <span class="o">=&gt;</span> <span class="s1">'DTSTART;TZID=CET:20130201T080000\nRRULE:FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR\nDTEND;TZID=CET:20130201T180000'</span>
<span class="p">})</span>
</code></pre>


<h3>Description</h3>
<p>Update notification rules.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"blackhole"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"conditions_list"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"media"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"strategy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;global|any_tag|all_tags|no_tag&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time_restriction_ical"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>rules to update</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; ext=bulk</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; rules update succeeded</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid data</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
<tr>
<td>409</td>
<td>Conflict; request id mismatch</td>
</tr>
</tbody>
</table>



<h2 id="DELETE_rules_rule_id">DELETE /rules/{rule_id}</h2>


<pre><code class="highlight shell">curl -w <span class="s1">'response: %{http_code} \n'</span> -X DELETE <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "rule",
        "id": "f85db541-f294-4d83-829b-c27b171cead4",
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/rules/f85db541-f294-4d83-829b-c27b171cead4
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">delete_rules</span><span class="p">(</span>
  <span class="s1">'f85db541-f294-4d83-829b-c27b171cead4'</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Delete a notification rule.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>rule_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a rule</td>
<td>

  uuid
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; Rule deletion success</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="DELETE_rules">DELETE /rules</h2>


<pre><code class="highlight shell">curl -w <span class="s1">'response: %{http_code} \n'</span> -X DELETE <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "rule",
        "id": "f85db541-f294-4d83-829b-c27b171cead4",
      }, {
        "type": "rule",
        "id": "b712205c-ed6a-4d5b-9690-52956963de18",
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/rules
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">delete_rules</span><span class="p">(</span>
  <span class="s1">'f85db541-f294-4d83-829b-c27b171cead4'</span><span class="p">,</span>
  <span class="s1">'b712205c-ed6a-4d5b-9690-52956963de18'</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Delete notification rules.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>rules to delete</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; ext=bulk</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; rules deletion succeeded</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="GET_rules_rule_id_contact">GET /rules/{rule_id}/contact</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">rule_link_contact</span><span class="p">(</span>
  <span class="ss">:fields</span> <span class="o">=&gt;</span> <span class="p">[],</span>   <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{},</span>   <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span> <span class="o">=&gt;</span> <span class="p">[],</span>  <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span> <span class="o">=&gt;</span> <span class="p">[],</span>     <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>      <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Get the contact a rule belongs to.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>rule_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a rule</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="w">    </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET rules contact success</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid request</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="POST_rules_rule_id_relationships_media">POST /rules/{rule_id}/relationships/media</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">create_rule_link_media</span><span class="p">({</span>
  <span class="s1">'f85db541-f294-4d83-829b-c27b171cead4'</span><span class="p">,</span> <span class="c1"># rule</span>
  <span class="s1">'b712205c-ed6a-4d5b-9690-52956963de18'</span><span class="p">,</span> <span class="c1"># medium</span>
  <span class="s1">'92aabf63-c77e-46c8-afff-1386fef23c56'</span>  <span class="c1"># medium</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Associate this rule with media on rule creation.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>rule_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a rule</td>
<td>

  
</td>
</tr>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>media to associate with the rule</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; link creation success</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; no link ids</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="GET_rules_rule_id_media">GET /rules/{rule_id}/media</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">rule_link_media</span><span class="p">(</span>
  <span class="ss">:fields</span> <span class="o">=&gt;</span> <span class="p">[],</span>   <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{},</span>   <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span> <span class="o">=&gt;</span> <span class="p">[],</span>  <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span> <span class="o">=&gt;</span> <span class="p">[],</span>     <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>      <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Get the media this rule is associated with.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>rule_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a rule</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET rules response</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid request</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="PATCH_rules_rule_id_relationships_media">PATCH /rules/{rule_id}/relationships/media</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">update_rule_link_media</span><span class="p">({</span>
  <span class="s1">'f85db541-f294-4d83-829b-c27b171cead4'</span><span class="p">,</span> <span class="c1"># rule</span>
  <span class="s1">'b712205c-ed6a-4d5b-9690-52956963de18'</span><span class="p">,</span> <span class="c1"># medium</span>
  <span class="s1">'92aabf63-c77e-46c8-afff-1386fef23c56'</span>  <span class="c1"># medium</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Update the media this rule is associated with.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>rule_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a rule</td>
<td>

  
</td>
</tr>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>media associations to replace for the rule</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; link update succeeded</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; no link ids</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="DELETE_rules_rule_id_relationships_media">DELETE /rules/{rule_id}/relationships/media</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">delete_rule_link_media</span><span class="p">(</span>
  <span class="s1">'f85db541-f294-4d83-829b-c27b171cead4'</span><span class="p">,</span> <span class="c1"># rule</span>
  <span class="s1">'b712205c-ed6a-4d5b-9690-52956963de18'</span><span class="p">,</span> <span class="c1"># medium</span>
  <span class="s1">'92aabf63-c77e-46c8-afff-1386fef23c56'</span>  <span class="c1"># medium</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Delete associations between this rule and media.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>rule_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a rule</td>
<td>

  
</td>
</tr>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>media to remove from the rule</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; link deletion success</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; no link ids</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="POST_rules_rule_id_relationships_tags">POST /rules/{rule_id}/relationships/tags</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">create_rule_link_tags</span><span class="p">({</span>
  <span class="s1">'f85db541-f294-4d83-829b-c27b171cead4'</span><span class="p">,</span> <span class="c1"># rule</span>
  <span class="s1">'b712205c-ed6a-4d5b-9690-52956963de18'</span><span class="p">,</span> <span class="c1"># tag</span>
  <span class="s1">'92aabf63-c77e-46c8-afff-1386fef23c56'</span>  <span class="c1"># tag</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Associate tags with this rule.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>rule_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a rule</td>
<td>

  
</td>
</tr>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>tags to associate with the rule</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; link creation success</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; no link ids</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="GET_rules_rule_id_tags">GET /rules/{rule_id}/tags</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">rule_link_tags</span><span class="p">(</span>
  <span class="ss">:fields</span> <span class="o">=&gt;</span> <span class="p">[],</span>   <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{},</span>   <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span> <span class="o">=&gt;</span> <span class="p">[],</span>  <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span> <span class="o">=&gt;</span> <span class="p">[],</span>     <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>      <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Returns all tags linked to this rule.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>rule_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a rule</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET rules response</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid request</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="PATCH_rules_rule_id_relationships_tags">PATCH /rules/{rule_id}/relationships/tags</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">update_rule_link_tags</span><span class="p">({</span>
  <span class="s1">'f85db541-f294-4d83-829b-c27b171cead4'</span><span class="p">,</span> <span class="c1"># rule</span>
  <span class="s1">'b712205c-ed6a-4d5b-9690-52956963de18'</span><span class="p">,</span> <span class="c1"># tag</span>
  <span class="s1">'92aabf63-c77e-46c8-afff-1386fef23c56'</span>  <span class="c1"># tag</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Update the tags associated with this rule.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>rule_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a rule</td>
<td>

  
</td>
</tr>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>tags associations to replace for the rule</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; link update succeeded</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; no link ids</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="DELETE_rules_rule_id_relationships_tags">DELETE /rules/{rule_id}/relationships/tags</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">delete_rule_link_tags</span><span class="p">(</span>
  <span class="s1">'f85db541-f294-4d83-829b-c27b171cead4'</span><span class="p">,</span> <span class="c1"># rule</span>
  <span class="s1">'b712205c-ed6a-4d5b-9690-52956963de18'</span><span class="p">,</span> <span class="c1"># tag</span>
  <span class="s1">'92aabf63-c77e-46c8-afff-1386fef23c56'</span>  <span class="c1"># tag</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Delete associations between tags and this rule.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>rule_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a rule</td>
<td>

  
</td>
</tr>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>tags to remove from the rule</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; link deletion success</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; no link ids</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>




<h1 id="title_scheduled_maintenances">Scheduled maintenances</h1>
<h2 id="POST_scheduled_maintenances">POST /scheduled_maintenances</h2>


<pre><code class="highlight shell"><span class="c"># required: end_time, start_time</span>
<span class="c"># optional: id</span>
curl -w <span class="s1">'response: %{http_code} \n'</span> -X POST <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "scheduled_maintenance",
        "id": "75a764f1-b8d1-437c-ad48-69ba8e00cdfc",
        "end_time": "2025-03-01T00:00:00+00:00",
        "start_time": "2015-12-10T15:02:56+10:30"
      }, {
        "type": "scheduled_maintenance",
        "id": "45b8d83c-5a93-462c-bf5e-fdd4613cd845",
        "end_time": "2025-03-01T00:00:00+00:00",
        "start_time": "2025-02-01T00:00:00+00:00"
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/scheduled_maintenances
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="c1"># required: end_time, start_time</span>
<span class="c1"># optional: id</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">create_scheduled_maintenances</span><span class="p">({</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'75a764f1-b8d1-437c-ad48-69ba8e00cdfc'</span><span class="p">,</span>
  <span class="ss">:end_time</span> <span class="o">=&gt;</span> <span class="no">DateTime</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="s1">'2025-03-01T00:00:00+00:00'</span><span class="p">),</span>
  <span class="ss">:start_time</span> <span class="o">=&gt;</span> <span class="no">DateTime</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="s1">'2015-12-10T15:02:56+10:30'</span><span class="p">)</span>
<span class="p">},</span> <span class="p">{</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'45b8d83c-5a93-462c-bf5e-fdd4613cd845'</span><span class="p">,</span>
  <span class="ss">:end_time</span> <span class="o">=&gt;</span> <span class="no">DateTime</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="s1">'2025-03-01T00:00:00+00:00'</span><span class="p">),</span>
  <span class="ss">:start_time</span> <span class="o">=&gt;</span> <span class="no">DateTime</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="s1">'2025-02-01T00:00:00+00:00'</span><span class="p">)</span>
<span class="p">})</span>
</code></pre>


<h3>Description</h3>
<p>Create a scheduled maintenance period for a check, or checks associated with a tag.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(date-time)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"check"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(date-time)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scheduled_maintenance"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>scheduled_maintenance to create</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="w">    </span><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(date-time)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"check"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(date-time)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scheduled_maintenance"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"included"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;check|contact|medium|rule|scheduled_maintenance|state|tag|unscheduled_maintenance&gt;"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"prev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>scheduled_maintenance creation success</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid data</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>409</td>
<td>Conflict; bad request structure</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="PATCH_scheduled_maintenances_scheduled_maintenance_id">PATCH /scheduled_maintenances/{scheduled_maintenance_id}</h2>


<pre><code class="highlight shell"><span class="c"># required: end_time, id, start_time</span>
<span class="c"># optional: </span>
curl -w <span class="s1">'response: %{http_code} \n'</span> -X PATCH <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "scheduled_maintenance",
        "id": "75a764f1-b8d1-437c-ad48-69ba8e00cdfc",
        "end_time": "2025-03-01T00:00:00+00:00",
        "start_time": "2015-12-10T15:02:56+10:30"
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/scheduled_maintenances/75a764f1-b8d1-437c-ad48-69ba8e00cdfc
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="c1"># required: end_time, id, start_time</span>
<span class="c1"># optional: </span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">update_scheduled_maintenances</span><span class="p">(</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'75a764f1-b8d1-437c-ad48-69ba8e00cdfc'</span><span class="p">,</span>
  <span class="ss">:end_time</span> <span class="o">=&gt;</span> <span class="no">DateTime</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="s1">'2025-03-01T00:00:00+00:00'</span><span class="p">),</span>
  <span class="ss">:start_time</span> <span class="o">=&gt;</span> <span class="no">DateTime</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="s1">'2015-12-10T15:02:56+10:30'</span><span class="p">)</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Update data for a scheduled maintenance period.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(date-time)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(date-time)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scheduled_maintenance"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>scheduled_maintenance_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a scheduled_maintenance</td>
<td>

  uuid
</td>
</tr>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>ScheduledMaintenance to update</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; ScheduledMaintenance update success</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid data</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
<tr>
<td>409</td>
<td>Conflict; request id mismatch</td>
</tr>
</tbody>
</table>



<h2 id="PATCH_scheduled_maintenances">PATCH /scheduled_maintenances</h2>


<pre><code class="highlight shell"><span class="c"># required: end_time, id, start_time</span>
<span class="c"># optional: </span>
curl -w <span class="s1">'response: %{http_code} \n'</span> -X PATCH <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "scheduled_maintenance",
        "id": "75a764f1-b8d1-437c-ad48-69ba8e00cdfc",
        "end_time": "2025-03-01T00:00:00+00:00",
        "start_time": "2015-12-10T15:02:56+10:30"
      }, {
        "type": "scheduled_maintenance",
        "id": "45b8d83c-5a93-462c-bf5e-fdd4613cd845",
        "end_time": "2025-03-01T00:00:00+00:00",
        "start_time": "2025-02-01T00:00:00+00:00"
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/scheduled_maintenances
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="c1"># required: end_time, id, start_time</span>
<span class="c1"># optional: </span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">update_scheduled_maintenances</span><span class="p">({</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'75a764f1-b8d1-437c-ad48-69ba8e00cdfc'</span><span class="p">,</span>
  <span class="ss">:end_time</span> <span class="o">=&gt;</span> <span class="no">DateTime</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="s1">'2025-03-01T00:00:00+00:00'</span><span class="p">),</span>
  <span class="ss">:start_time</span> <span class="o">=&gt;</span> <span class="no">DateTime</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="s1">'2015-12-10T15:02:56+10:30'</span><span class="p">)</span>
<span class="p">},</span> <span class="p">{</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'45b8d83c-5a93-462c-bf5e-fdd4613cd845'</span><span class="p">,</span>
  <span class="ss">:end_time</span> <span class="o">=&gt;</span> <span class="no">DateTime</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="s1">'2025-03-01T00:00:00+00:00'</span><span class="p">),</span>
  <span class="ss">:start_time</span> <span class="o">=&gt;</span> <span class="no">DateTime</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="s1">'2025-02-01T00:00:00+00:00'</span><span class="p">)</span>
<span class="p">})</span>
</code></pre>


<h3>Description</h3>
<p>Update data for scheduled maintenance periods.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(date-time)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(date-time)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scheduled_maintenance"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>scheduled_maintenances to update</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; ext=bulk</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; scheduled_maintenances update succeeded</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid data</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
<tr>
<td>409</td>
<td>Conflict; request id mismatch</td>
</tr>
</tbody>
</table>



<h2 id="DELETE_scheduled_maintenances_scheduled_maintenance_id">DELETE /scheduled_maintenances/{scheduled_maintenance_id}</h2>


<pre><code class="highlight shell">curl -w <span class="s1">'response: %{http_code} \n'</span> -X DELETE <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "scheduled_maintenance",
        "id": "75a764f1-b8d1-437c-ad48-69ba8e00cdfc",
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/scheduled_maintenances/75a764f1-b8d1-437c-ad48-69ba8e00cdfc
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">delete_scheduled_maintenances</span><span class="p">(</span>
  <span class="s1">'75a764f1-b8d1-437c-ad48-69ba8e00cdfc'</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Delete a scheduled maintenance period.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>scheduled_maintenance_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a scheduled_maintenance</td>
<td>

  uuid
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; ScheduledMaintenance deletion success</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="DELETE_scheduled_maintenances">DELETE /scheduled_maintenances</h2>


<pre><code class="highlight shell">curl -w <span class="s1">'response: %{http_code} \n'</span> -X DELETE <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "scheduled_maintenance",
        "id": "75a764f1-b8d1-437c-ad48-69ba8e00cdfc",
      }, {
        "type": "scheduled_maintenance",
        "id": "45b8d83c-5a93-462c-bf5e-fdd4613cd845",
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/scheduled_maintenances
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">delete_scheduled_maintenances</span><span class="p">(</span>
  <span class="s1">'75a764f1-b8d1-437c-ad48-69ba8e00cdfc'</span><span class="p">,</span>
  <span class="s1">'45b8d83c-5a93-462c-bf5e-fdd4613cd845'</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Delete scheduled maintenance periods.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scheduled_maintenance"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>scheduled_maintenances to delete</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; ext=bulk</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; scheduled_maintenances deletion succeeded</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="GET_scheduled_maintenances_scheduled_maintenance_id_check">GET /scheduled_maintenances/{scheduled_maintenance_id}/check</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">scheduled_maintenance_link_check</span><span class="p">(</span>
  <span class="ss">:fields</span> <span class="o">=&gt;</span> <span class="p">[],</span>   <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{},</span>   <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span> <span class="o">=&gt;</span> <span class="p">[],</span>  <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span> <span class="o">=&gt;</span> <span class="p">[],</span>     <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>      <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Returns the check a scheduled maintenance period applies to.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>scheduled_maintenance_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a scheduled_maintenance</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="w">    </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET scheduled_maintenances check success</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid request</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>



<h1 id="title_states">States</h1>
<h2 id="GET_states_state_id">GET /states/{state_id}</h2>


<pre><code class="highlight shell">curl -w <span class="s1">'response: %{http_code} \n'</span> -X GET <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
http://localhost:3081/states/7cd8bba9-dd32-4c6d-8e33-569e0e40390f
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">states</span><span class="p">(</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'7cd8bba9-dd32-4c6d-8e33-569e0e40390f'</span><span class="p">}</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Get data for a single check state record.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>state_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a state</td>
<td>

  uuid
</td>
</tr>
<tr>
<td>fields</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td>Comma-separated list of fields to return</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="w">    </span><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;acknowledgement|test_notifications&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"condition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;ok|critical|warning|unknown&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(date-time)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"details"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"perfdata"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"check"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"state"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(date-time)&gt;"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"included"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;check|contact|medium|rule|scheduled_maintenance|state|tag|unscheduled_maintenance&gt;"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"prev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET state response</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="GET_states">GET /states</h2>


<pre><code class="highlight shell">curl -w <span class="s1">'response: %{http_code} \n'</span> -X GET <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
http://localhost:3081/states
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">states</span><span class="p">(</span>
  <span class="ss">:fields</span>   <span class="o">=&gt;</span> <span class="p">[],</span> <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span>   <span class="o">=&gt;</span> <span class="p">{},</span> <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span>  <span class="o">=&gt;</span> <span class="p">[],</span> <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span>     <span class="o">=&gt;</span> <span class="p">[],</span> <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span>     <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>  <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Get data for check state records.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>fields</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td>Comma-separated list of fields to return</td>
<td>

  
</td>
</tr>
<tr>
<td>sort</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td></td>
<td>

  
</td>
</tr>
<tr>
<td>filter</td>
<td>query</td>
<td>array</td>
<td>no</td>
<td></td>
<td>


</td>
</tr>
<tr>
<td>include</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td></td>
<td>

  
</td>
</tr>
<tr>
<td>page</td>
<td>query</td>
<td>integer</td>
<td>no</td>
<td>Page number</td>
<td>

  
</td>
</tr>
<tr>
<td>per_page</td>
<td>query</td>
<td>integer</td>
<td>no</td>
<td>Number of states per page</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="w">    </span><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;acknowledgement|test_notifications&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"condition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;ok|critical|warning|unknown&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(date-time)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"details"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"perfdata"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"check"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"state"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(date-time)&gt;"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"included"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;check|contact|medium|rule|scheduled_maintenance|state|tag|unscheduled_maintenance&gt;"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"prev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"per_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"total_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET states success</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="GET_states_state_id_check">GET /states/{state_id}/check</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">state_link_check</span><span class="p">(</span>
  <span class="ss">:fields</span> <span class="o">=&gt;</span> <span class="p">[],</span>   <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{},</span>   <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span> <span class="o">=&gt;</span> <span class="p">[],</span>  <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span> <span class="o">=&gt;</span> <span class="p">[],</span>     <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>      <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Returns the check the state data describes.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>state_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a state</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="w">    </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET states check success</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid request</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>



<h1 id="title_statistics">Statistics</h1>
<h2 id="GET_statistics_statistic_id">GET /statistics/{statistic_id}</h2>


<pre><code class="highlight shell">curl -w <span class="s1">'response: %{http_code} \n'</span> -X GET <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
http://localhost:3081/statistics/5a42774b-1dc1-484c-9618-5e0edaea12a7
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">statistics</span><span class="p">(</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'5a42774b-1dc1-484c-9618-5e0edaea12a7'</span><span class="p">}</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Returns a single event statistics data object.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>statistic_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a statistic</td>
<td>

  uuid
</td>
</tr>
<tr>
<td>fields</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td>Comma-separated list of fields to return</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="w">    </span><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"action_events"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"all_events"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(date-time)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"failure_events"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"instance_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"invalid_events"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ok_events"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"statistic"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"prev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET statistic response</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="GET_statistics">GET /statistics</h2>


<pre><code class="highlight shell">curl -w <span class="s1">'response: %{http_code} \n'</span> -X GET <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
http://localhost:3081/statistics
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">statistics</span><span class="p">(</span>
  <span class="ss">:fields</span>   <span class="o">=&gt;</span> <span class="p">[],</span> <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span>   <span class="o">=&gt;</span> <span class="p">{},</span> <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span>  <span class="o">=&gt;</span> <span class="p">[],</span> <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span>     <span class="o">=&gt;</span> <span class="p">[],</span> <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span>     <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>  <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Returns global or per-instance event statistics.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>fields</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td>Comma-separated list of fields to return</td>
<td>

  
</td>
</tr>
<tr>
<td>sort</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td></td>
<td>

  
</td>
</tr>
<tr>
<td>filter</td>
<td>query</td>
<td>array</td>
<td>no</td>
<td></td>
<td>


</td>
</tr>
<tr>
<td>include</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td></td>
<td>

  
</td>
</tr>
<tr>
<td>page</td>
<td>query</td>
<td>integer</td>
<td>no</td>
<td>Page number</td>
<td>

  
</td>
</tr>
<tr>
<td>per_page</td>
<td>query</td>
<td>integer</td>
<td>no</td>
<td>Number of statistics per page</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="w">    </span><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"action_events"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"all_events"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(date-time)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"failure_events"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"instance_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"invalid_events"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ok_events"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"statistic"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"prev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"per_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"total_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET statistics success</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>



<h1 id="title_tags">Tags</h1>
<h2 id="POST_tags">POST /tags</h2>


<pre><code class="highlight shell"><span class="c"># required: name</span>
<span class="c"># optional: </span>
curl -w <span class="s1">'response: %{http_code} \n'</span> -X POST <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "tag",
        "id": "6de3c340-9a60-42c4-86f1-bdc4ec8bc95a",
        "name": "database"
      }, {
        "type": "tag",
        "id": "a353e758-556f-4ef7-8f0b-97538b477e10",
        "name": "remove_next_january"
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/tags
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="c1"># required: name</span>
<span class="c1"># optional: </span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">create_tags</span><span class="p">({</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'6de3c340-9a60-42c4-86f1-bdc4ec8bc95a'</span><span class="p">,</span>
  <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'database'</span>
<span class="p">},</span> <span class="p">{</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'a353e758-556f-4ef7-8f0b-97538b477e10'</span><span class="p">,</span>
  <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'remove_next_january'</span>
<span class="p">})</span>
</code></pre>


<h3>Description</h3>
<p>Create a tag.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"checks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"contacts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>tag to create</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="w">    </span><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"checks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"contacts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"scheduled_maintenances"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scheduled_maintenance"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"states"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"state"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"unscheduled_maintenances"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unscheduled_maintenance"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"included"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;check|contact|medium|rule|scheduled_maintenance|state|tag|unscheduled_maintenance&gt;"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"prev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>tag creation success</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid data</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>409</td>
<td>Conflict; bad request structure</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="GET_tags_tag_id">GET /tags/{tag_id}</h2>


<pre><code class="highlight shell">curl -w <span class="s1">'response: %{http_code} \n'</span> -X GET <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
http://localhost:3081/tags/6de3c340-9a60-42c4-86f1-bdc4ec8bc95a
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">tags</span><span class="p">(</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'6de3c340-9a60-42c4-86f1-bdc4ec8bc95a'</span><span class="p">}</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Returns data for a tag.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>tag_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a tag</td>
<td>

  uuid
</td>
</tr>
<tr>
<td>fields</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td>Comma-separated list of fields to return</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="w">    </span><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"checks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"contacts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"scheduled_maintenances"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scheduled_maintenance"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"states"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"state"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"unscheduled_maintenances"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unscheduled_maintenance"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"included"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;check|contact|medium|rule|scheduled_maintenance|state|tag|unscheduled_maintenance&gt;"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"prev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET tag response</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="GET_tags">GET /tags</h2>


<pre><code class="highlight shell">curl -w <span class="s1">'response: %{http_code} \n'</span> -X GET <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
http://localhost:3081/tags
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">tags</span><span class="p">(</span>
  <span class="ss">:fields</span>   <span class="o">=&gt;</span> <span class="p">[],</span> <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span>   <span class="o">=&gt;</span> <span class="p">{},</span> <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span>  <span class="o">=&gt;</span> <span class="p">[],</span> <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span>     <span class="o">=&gt;</span> <span class="p">[],</span> <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span>     <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>  <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Returns data for tags.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>fields</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td>Comma-separated list of fields to return</td>
<td>

  
</td>
</tr>
<tr>
<td>sort</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td></td>
<td>

  
</td>
</tr>
<tr>
<td>filter</td>
<td>query</td>
<td>array</td>
<td>no</td>
<td></td>
<td>


</td>
</tr>
<tr>
<td>include</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td></td>
<td>

  
</td>
</tr>
<tr>
<td>page</td>
<td>query</td>
<td>integer</td>
<td>no</td>
<td>Page number</td>
<td>

  
</td>
</tr>
<tr>
<td>per_page</td>
<td>query</td>
<td>integer</td>
<td>no</td>
<td>Number of tags per page</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="w">    </span><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"checks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"contacts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"scheduled_maintenances"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scheduled_maintenance"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"states"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"state"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"unscheduled_maintenances"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unscheduled_maintenance"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"included"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;check|contact|medium|rule|scheduled_maintenance|state|tag|unscheduled_maintenance&gt;"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"prev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"per_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"total_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET tags success</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="PATCH_tags_tag_id">PATCH /tags/{tag_id}</h2>


<pre><code class="highlight shell"><span class="c"># required: id</span>
<span class="c"># optional: name</span>
curl -w <span class="s1">'response: %{http_code} \n'</span> -X PATCH <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "tag",
        "id": "6de3c340-9a60-42c4-86f1-bdc4ec8bc95a",
        "name": "database"
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/tags/6de3c340-9a60-42c4-86f1-bdc4ec8bc95a
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="c1"># required: id</span>
<span class="c1"># optional: name</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">update_tags</span><span class="p">(</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'6de3c340-9a60-42c4-86f1-bdc4ec8bc95a'</span><span class="p">,</span>
  <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'database'</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Update a tag.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"checks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"contacts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>tag_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a tag</td>
<td>

  uuid
</td>
</tr>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>Tag to update</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; Tag update success</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid data</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
<tr>
<td>409</td>
<td>Conflict; request id mismatch</td>
</tr>
</tbody>
</table>



<h2 id="PATCH_tags">PATCH /tags</h2>


<pre><code class="highlight shell"><span class="c"># required: id</span>
<span class="c"># optional: name</span>
curl -w <span class="s1">'response: %{http_code} \n'</span> -X PATCH <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "tag",
        "id": "6de3c340-9a60-42c4-86f1-bdc4ec8bc95a",
        "name": "database"
      }, {
        "type": "tag",
        "id": "a353e758-556f-4ef7-8f0b-97538b477e10",
        "name": "remove_next_january"
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/tags
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="c1"># required: id</span>
<span class="c1"># optional: name</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">update_tags</span><span class="p">({</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'6de3c340-9a60-42c4-86f1-bdc4ec8bc95a'</span><span class="p">,</span>
  <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'database'</span>
<span class="p">},</span> <span class="p">{</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'a353e758-556f-4ef7-8f0b-97538b477e10'</span><span class="p">,</span>
  <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'remove_next_january'</span>
<span class="p">})</span>
</code></pre>


<h3>Description</h3>
<p>Update tags.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"checks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"contacts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>tags to update</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; ext=bulk</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; tags update succeeded</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid data</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
<tr>
<td>409</td>
<td>Conflict; request id mismatch</td>
</tr>
</tbody>
</table>



<h2 id="DELETE_tags_tag_id">DELETE /tags/{tag_id}</h2>


<pre><code class="highlight shell">curl -w <span class="s1">'response: %{http_code} \n'</span> -X DELETE <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "tag",
        "id": "6de3c340-9a60-42c4-86f1-bdc4ec8bc95a",
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/tags/6de3c340-9a60-42c4-86f1-bdc4ec8bc95a
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">delete_tags</span><span class="p">(</span>
  <span class="s1">'6de3c340-9a60-42c4-86f1-bdc4ec8bc95a'</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Delete a tag.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>tag_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a tag</td>
<td>

  uuid
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; Tag deletion success</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="DELETE_tags">DELETE /tags</h2>


<pre><code class="highlight shell">curl -w <span class="s1">'response: %{http_code} \n'</span> -X DELETE <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "tag",
        "id": "6de3c340-9a60-42c4-86f1-bdc4ec8bc95a",
      }, {
        "type": "tag",
        "id": "a353e758-556f-4ef7-8f0b-97538b477e10",
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/tags
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">delete_tags</span><span class="p">(</span>
  <span class="s1">'6de3c340-9a60-42c4-86f1-bdc4ec8bc95a'</span><span class="p">,</span>
  <span class="s1">'a353e758-556f-4ef7-8f0b-97538b477e10'</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Delete tags.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>tags to delete</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; ext=bulk</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; tags deletion succeeded</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="POST_tags_tag_id_relationships_checks">POST /tags/{tag_id}/relationships/checks</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">create_tag_link_checks</span><span class="p">({</span>
  <span class="s1">'6de3c340-9a60-42c4-86f1-bdc4ec8bc95a'</span><span class="p">,</span> <span class="c1"># tag</span>
  <span class="s1">'a353e758-556f-4ef7-8f0b-97538b477e10'</span><span class="p">,</span> <span class="c1"># check</span>
  <span class="s1">'ce71738f-e0ec-4b2e-8098-66f2c9ebd0cf'</span>  <span class="c1"># check</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Associate checks with this tag.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>tag_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a tag</td>
<td>

  
</td>
</tr>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>checks to associate with the tag</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; link creation success</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; no link ids</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="GET_tags_tag_id_checks">GET /tags/{tag_id}/checks</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">tag_link_checks</span><span class="p">(</span>
  <span class="ss">:fields</span> <span class="o">=&gt;</span> <span class="p">[],</span>   <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{},</span>   <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span> <span class="o">=&gt;</span> <span class="p">[],</span>  <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span> <span class="o">=&gt;</span> <span class="p">[],</span>     <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>      <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Returns all checks linked to this tag.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>tag_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a tag</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET tags response</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid request</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="PATCH_tags_tag_id_relationships_checks">PATCH /tags/{tag_id}/relationships/checks</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">update_tag_link_checks</span><span class="p">({</span>
  <span class="s1">'6de3c340-9a60-42c4-86f1-bdc4ec8bc95a'</span><span class="p">,</span> <span class="c1"># tag</span>
  <span class="s1">'a353e758-556f-4ef7-8f0b-97538b477e10'</span><span class="p">,</span> <span class="c1"># check</span>
  <span class="s1">'ce71738f-e0ec-4b2e-8098-66f2c9ebd0cf'</span>  <span class="c1"># check</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Update the checks associated with this tag.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>tag_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a tag</td>
<td>

  
</td>
</tr>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>checks associations to replace for the tag</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; link update succeeded</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; no link ids</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="DELETE_tags_tag_id_relationships_checks">DELETE /tags/{tag_id}/relationships/checks</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">delete_tag_link_checks</span><span class="p">(</span>
  <span class="s1">'6de3c340-9a60-42c4-86f1-bdc4ec8bc95a'</span><span class="p">,</span> <span class="c1"># tag</span>
  <span class="s1">'a353e758-556f-4ef7-8f0b-97538b477e10'</span><span class="p">,</span> <span class="c1"># check</span>
  <span class="s1">'ce71738f-e0ec-4b2e-8098-66f2c9ebd0cf'</span>  <span class="c1"># check</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Delete associations between checks and this tag.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>tag_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a tag</td>
<td>

  
</td>
</tr>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>checks to remove from the tag</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; link deletion success</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; no link ids</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="POST_tags_tag_id_relationships_contacts">POST /tags/{tag_id}/relationships/contacts</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">create_tag_link_contacts</span><span class="p">({</span>
  <span class="s1">'6de3c340-9a60-42c4-86f1-bdc4ec8bc95a'</span><span class="p">,</span> <span class="c1"># tag</span>
  <span class="s1">'a353e758-556f-4ef7-8f0b-97538b477e10'</span><span class="p">,</span> <span class="c1"># contact</span>
  <span class="s1">'ce71738f-e0ec-4b2e-8098-66f2c9ebd0cf'</span>  <span class="c1"># contact</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Associate contacts with this tag.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>tag_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a tag</td>
<td>

  
</td>
</tr>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>contacts to associate with the tag</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; link creation success</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; no link ids</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="GET_tags_tag_id_contacts">GET /tags/{tag_id}/contacts</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">tag_link_contacts</span><span class="p">(</span>
  <span class="ss">:fields</span> <span class="o">=&gt;</span> <span class="p">[],</span>   <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{},</span>   <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span> <span class="o">=&gt;</span> <span class="p">[],</span>  <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span> <span class="o">=&gt;</span> <span class="p">[],</span>     <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>      <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Returns all contacts linked to this tag.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>tag_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a tag</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact"</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET tags response</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid request</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="PATCH_tags_tag_id_relationships_contacts">PATCH /tags/{tag_id}/relationships/contacts</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">update_tag_link_contacts</span><span class="p">({</span>
  <span class="s1">'6de3c340-9a60-42c4-86f1-bdc4ec8bc95a'</span><span class="p">,</span> <span class="c1"># tag</span>
  <span class="s1">'a353e758-556f-4ef7-8f0b-97538b477e10'</span><span class="p">,</span> <span class="c1"># contact</span>
  <span class="s1">'ce71738f-e0ec-4b2e-8098-66f2c9ebd0cf'</span>  <span class="c1"># contact</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Update the contacts associated with this tag.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>tag_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a tag</td>
<td>

  
</td>
</tr>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>contacts associations to replace for the tag</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; link update succeeded</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; no link ids</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="DELETE_tags_tag_id_relationships_contacts">DELETE /tags/{tag_id}/relationships/contacts</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">delete_tag_link_contacts</span><span class="p">(</span>
  <span class="s1">'6de3c340-9a60-42c4-86f1-bdc4ec8bc95a'</span><span class="p">,</span> <span class="c1"># tag</span>
  <span class="s1">'a353e758-556f-4ef7-8f0b-97538b477e10'</span><span class="p">,</span> <span class="c1"># contact</span>
  <span class="s1">'ce71738f-e0ec-4b2e-8098-66f2c9ebd0cf'</span>  <span class="c1"># contact</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Delete associations between contacts and this tag.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>tag_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a tag</td>
<td>

  
</td>
</tr>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>contacts to remove from the tag</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; link deletion success</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; no link ids</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="POST_tags_tag_id_relationships_rules">POST /tags/{tag_id}/relationships/rules</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">create_tag_link_rules</span><span class="p">({</span>
  <span class="s1">'6de3c340-9a60-42c4-86f1-bdc4ec8bc95a'</span><span class="p">,</span> <span class="c1"># tag</span>
  <span class="s1">'a353e758-556f-4ef7-8f0b-97538b477e10'</span><span class="p">,</span> <span class="c1"># rule</span>
  <span class="s1">'ce71738f-e0ec-4b2e-8098-66f2c9ebd0cf'</span>  <span class="c1"># rule</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Associate rules with this tag.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>tag_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a tag</td>
<td>

  
</td>
</tr>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>rules to associate with the tag</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; link creation success</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; no link ids</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="GET_tags_tag_id_rules">GET /tags/{tag_id}/rules</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">tag_link_rules</span><span class="p">(</span>
  <span class="ss">:fields</span> <span class="o">=&gt;</span> <span class="p">[],</span>   <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{},</span>   <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span> <span class="o">=&gt;</span> <span class="p">[],</span>  <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span> <span class="o">=&gt;</span> <span class="p">[],</span>     <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>      <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Returns all rules linked to this tag.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>tag_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a tag</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET tags response</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid request</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="PATCH_tags_tag_id_relationships_rules">PATCH /tags/{tag_id}/relationships/rules</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">update_tag_link_rules</span><span class="p">({</span>
  <span class="s1">'6de3c340-9a60-42c4-86f1-bdc4ec8bc95a'</span><span class="p">,</span> <span class="c1"># tag</span>
  <span class="s1">'a353e758-556f-4ef7-8f0b-97538b477e10'</span><span class="p">,</span> <span class="c1"># rule</span>
  <span class="s1">'ce71738f-e0ec-4b2e-8098-66f2c9ebd0cf'</span>  <span class="c1"># rule</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Update the rules associated with this tag.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>tag_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a tag</td>
<td>

  
</td>
</tr>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>rules associations to replace for the tag</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; link update succeeded</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; no link ids</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="DELETE_tags_tag_id_relationships_rules">DELETE /tags/{tag_id}/relationships/rules</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">delete_tag_link_rules</span><span class="p">(</span>
  <span class="s1">'6de3c340-9a60-42c4-86f1-bdc4ec8bc95a'</span><span class="p">,</span> <span class="c1"># tag</span>
  <span class="s1">'a353e758-556f-4ef7-8f0b-97538b477e10'</span><span class="p">,</span> <span class="c1"># rule</span>
  <span class="s1">'ce71738f-e0ec-4b2e-8098-66f2c9ebd0cf'</span>  <span class="c1"># rule</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Delete associations between rules and this tag.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rule"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>tag_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a tag</td>
<td>

  
</td>
</tr>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>rules to remove from the tag</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; link deletion success</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; no link ids</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
</tbody>
</table>



<h2 id="GET_tags_tag_id_scheduled_maintenances">GET /tags/{tag_id}/scheduled_maintenances</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">tag_link_scheduled_maintenances</span><span class="p">(</span>
  <span class="ss">:fields</span> <span class="o">=&gt;</span> <span class="p">[],</span>   <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{},</span>   <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span> <span class="o">=&gt;</span> <span class="p">[],</span>  <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span> <span class="o">=&gt;</span> <span class="p">[],</span>     <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>      <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Returns all scheduled maintenance periods for checks linked to this tag; default sort order is newest first.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>tag_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a tag</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scheduled_maintenance"</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET tags response</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid request</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="GET_tags_tag_id_states">GET /tags/{tag_id}/states</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">tag_link_states</span><span class="p">(</span>
  <span class="ss">:fields</span> <span class="o">=&gt;</span> <span class="p">[],</span>   <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{},</span>   <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span> <span class="o">=&gt;</span> <span class="p">[],</span>  <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span> <span class="o">=&gt;</span> <span class="p">[],</span>     <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>      <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Returns all state records for all checks linked to this tag; default sort order is newest first.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>tag_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a tag</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"state"</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET tags response</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid request</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>


<h2 id="GET_tags_tag_id_unscheduled_maintenances">GET /tags/{tag_id}/unscheduled_maintenances</h2>



<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">tag_link_unscheduled_maintenances</span><span class="p">(</span>
  <span class="ss">:fields</span> <span class="o">=&gt;</span> <span class="p">[],</span>   <span class="c1"># string, or an array of strings</span>
  <span class="ss">:filter</span> <span class="o">=&gt;</span> <span class="p">{},</span>   <span class="c1"># hash of field values/regexes to match</span>
  <span class="ss">:include</span> <span class="o">=&gt;</span> <span class="p">[],</span>  <span class="c1"># string, or an array of strings</span>
  <span class="ss">:sort</span> <span class="o">=&gt;</span> <span class="p">[],</span>     <span class="c1"># string, or an array of strings</span>
  <span class="ss">:page</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>      <span class="c1"># defaults to 1</span>
  <span class="ss">:per_page</span> <span class="o">=&gt;</span> <span class="mi">20</span>  <span class="c1"># defaults to 20</span>
<span class="p">)</span>
</code></pre>



<h3>Description</h3>
<p>Returns all unscheduled maintenance periods for checks linked to this tag; default sort order is newest first.</p>

<h3>Parameters</h3>



<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>tag_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a tag</td>
<td>

  
</td>
</tr>
</tbody>
</table>





<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unscheduled_maintenance"</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>GET tags response</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid request</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>



<h1 id="title_test_notifications">Test notifications</h1>
<h2 id="POST_test_notifications">POST /test_notifications</h2>


<pre><code class="highlight shell"><span class="c"># required: summary</span>
<span class="c"># optional: condition, id</span>
curl -w <span class="s1">'response: %{http_code} \n'</span> -X POST <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "test_notification",
        "id": "40d5d00c-060e-4123-8a5c-686457533665",
        "summary": "",
        "condition": '</span>&lt;String&gt;<span class="s1">'
      }, {
        "type": "test_notification",
        "id": "5856b86e-0d7d-444e-87f1-f3cdaf8c744a",
        "summary": "",
        "condition": '</span>&lt;String&gt;<span class="s1">'
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/test_notifications
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="c1"># required: summary</span>
<span class="c1"># optional: condition, id</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">create_test_notifications</span><span class="p">({</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'40d5d00c-060e-4123-8a5c-686457533665'</span><span class="p">,</span>
  <span class="ss">:summary</span> <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>
  <span class="ss">:condition</span> <span class="o">=&gt;</span> <span class="s1">'&lt;String&gt;'</span>
<span class="p">},</span> <span class="p">{</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'5856b86e-0d7d-444e-87f1-f3cdaf8c744a'</span><span class="p">,</span>
  <span class="ss">:summary</span> <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>
  <span class="ss">:condition</span> <span class="o">=&gt;</span> <span class="s1">'&lt;String&gt;'</span>
<span class="p">})</span>
</code></pre>


<h3>Description</h3>
<p>Create a simulated event for a check, or checks linked to a tag.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"condition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;critical|warning|unknown&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"check"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tag"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_notification"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>test_notification to create</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes / Data Schema</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
<td>Schema</td>
</tr>
</thead>

  <pre><code class="highlight json_response"><span class="w">    </span><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"condition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;critical|warning|unknown&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"check"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tag"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_notification"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"prev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(url)&gt;"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>


<tbody>
<tr>
<td>200</td>
<td>test_notification creation success</td>
<td>
See <strong>Responses</strong> tab
</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid data</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>409</td>
<td>Conflict; bad request structure</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; supported-ext=bulk</td>
</tr>
</tbody>
</table>



<h1 id="title_unscheduled_maintenances">Unscheduled maintenances</h1>
<h2 id="PATCH_unscheduled_maintenances_unscheduled_maintenance_id">PATCH /unscheduled_maintenances/{unscheduled_maintenance_id}</h2>


<pre><code class="highlight shell"><span class="c"># required: id</span>
<span class="c"># optional: end_time</span>
curl -w <span class="s1">'response: %{http_code} \n'</span> -X PATCH <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "unscheduled_maintenance",
        "id": "186d75d2-f3f3-4374-b2b8-c77aef879493",
        "end_time": "2015-12-10T15:02:57+10:30"
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/unscheduled_maintenances/186d75d2-f3f3-4374-b2b8-c77aef879493
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="c1"># required: id</span>
<span class="c1"># optional: end_time</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">update_unscheduled_maintenances</span><span class="p">(</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'186d75d2-f3f3-4374-b2b8-c77aef879493'</span><span class="p">,</span>
  <span class="ss">:end_time</span> <span class="o">=&gt;</span> <span class="no">DateTime</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="s1">'2015-12-10T15:02:57+10:30'</span><span class="p">)</span>
<span class="p">)</span>
</code></pre>


<h3>Description</h3>
<p>Update data for an unscheduled maintenance period.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(date-time)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unscheduled_maintenance"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>unscheduled_maintenance_id</td>
<td>path</td>
<td>string</td>
<td>yes</td>
<td>Id of a unscheduled_maintenance</td>
<td>

  uuid
</td>
</tr>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>UnscheduledMaintenance to update</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; UnscheduledMaintenance update success</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid data</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
<tr>
<td>409</td>
<td>Conflict; request id mismatch</td>
</tr>
</tbody>
</table>



<h2 id="PATCH_unscheduled_maintenances">PATCH /unscheduled_maintenances</h2>


<pre><code class="highlight shell"><span class="c"># required: id</span>
<span class="c"># optional: end_time</span>
curl -w <span class="s1">'response: %{http_code} \n'</span> -X PATCH <span class="se">\</span>
-H <span class="s2">"Content-type: application/vnd.api+json; ext=bulk"</span> -d <span class="se">\</span>
  <span class="s1">'{
    "data": [
      {
        "type": "unscheduled_maintenance",
        "id": "186d75d2-f3f3-4374-b2b8-c77aef879493",
        "end_time": "2015-12-10T15:02:57+10:30"
      }, {
        "type": "unscheduled_maintenance",
        "id": "dd7b38d7-a678-4e41-9bbe-af962ced9843",
        "end_time": "2050-01-01T00:00:00+00:00"
      }
    ]
  }'</span> <span class="se">\</span>
http://localhost:3081/unscheduled_maintenances
</code></pre>

<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="c1"># required: id</span>
<span class="c1"># optional: end_time</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="p">.</span><span class="nf">update_unscheduled_maintenances</span><span class="p">({</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'186d75d2-f3f3-4374-b2b8-c77aef879493'</span><span class="p">,</span>
  <span class="ss">:end_time</span> <span class="o">=&gt;</span> <span class="no">DateTime</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="s1">'2015-12-10T15:02:57+10:30'</span><span class="p">)</span>
<span class="p">},</span> <span class="p">{</span>
  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'dd7b38d7-a678-4e41-9bbe-af962ced9843'</span><span class="p">,</span>
  <span class="ss">:end_time</span> <span class="o">=&gt;</span> <span class="no">DateTime</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="s1">'2050-01-01T00:00:00+00:00'</span><span class="p">)</span>
<span class="p">})</span>
</code></pre>


<h3>Description</h3>
<p>Update data for unscheduled maintenance periods.</p>

<h3>Parameters</h3>

<pre><code class="highlight json_parameter"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(date-time)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String(uuid)&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unscheduled_maintenance"</span><span class="w">
  </span><span class="p">}]</span><span class="w">

</span></code></pre>


<table>
<thead>
<tr>
<td>Name</td>
<td>In</td>
<td>Type</td>
<td>Required?</td>
<td>Description</td>
<td>Format</td>
</tr>
</thead>

<tbody>
<tr>
<td>data</td>
<td>body</td>
<td></td>
<td>yes</td>
<td>unscheduled_maintenances to update</td>
<td>

  See <strong>Parameters</strong> tab
</td>
</tr>
</tbody>
</table>


<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<tr>
<td>application/vnd.api+json; ext=bulk</td>
</tr>
</tbody>
</table>



<h3>HTTP Return Codes</h3>

<table>
<thead>
<tr>
<td>Code</td>
<td>Description</td>
</tr>
</thead>


<tbody>
<tr>
<td>204</td>
<td>No Content; unscheduled_maintenances update succeeded</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden; invalid data</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
<tr>
<td>409</td>
<td>Conflict; request id mismatch</td>
</tr>
</tbody>
</table>





      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="ruby">Ruby</a>
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="json_parameter">Parameters</a>
                <a href="#" data-language-name="json_response">Responses</a>
          </div>
      </div>
    </div>
    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      try {
        var pageTracker = _gat._getTracker("UA-388962-5");
        pageTracker._trackPageview();
      } catch(err) {}
    </script>
  </body>
</html>
