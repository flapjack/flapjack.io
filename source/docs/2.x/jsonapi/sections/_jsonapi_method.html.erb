<% title_id = title.gsub(/\W+/, '_') %>
<h2 id="<%= title_id %>"><%= title %></h2>

<% example_file = File.join(File.dirname(__FILE__), '..', 'examples', "_#{title_id}.md") %>

<% if File.exists?(example_file) %>
<%= render_partial("examples/#{title_id}") %>
<% else %>
<% FileUtils.touch(example_file) %>
<% end %>

<h3>Description</h3>
<p><%= operation.description %></p>

<% body_param = operation.parameters.detect {|param| 'body'.eql?(param.in)} %>

<h3>Parameters</h3>

<%= render_partial('sections/parameters', :locals => {:parameters => operation.parameters,
  :definitions => definitions}) %>

<% consumes = operation.consumes %>
<% unless consumes.nil? || consumes.empty? %>
<h3>Accepted MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<% consumes.each do |consume| %>
<tr>
<td><%= consume %></td>
</tr>
<% end %>
</tbody>
</table>

<% end %>

<h3>HTTP Return Codes</h3>

<% produces = operation.produces %>
<% unless produces.nil? || produces.empty? %>

<h3>Returned MIME Types</h3>

<table>
<thead>
<tr>
<td>Type</td>
</tr>
</thead>

<tbody>
<% produces.each do |produce| %>
<tr>
<td><%= produce %></td>
</tr>
<% end %>
</tbody>
</table>

<% end %>

<% unless (operation.responses.keys & ['200', '201']).empty? %>
<h3>Returned Data Schema</h3>
<% end %>
