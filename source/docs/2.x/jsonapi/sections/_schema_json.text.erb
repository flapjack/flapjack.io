{
<% definition.properties.keys.sort.each_with_index do |property_name, idx| -%>
  <% property = definition.properties[property_name] -%>
<%= " " * (level * 2) -%>"<%= property_name -%>": <% if 'array'.eql?(property.type) -%><% defin_name = property['items']['$ref'].sub(%r{^#/definitions/}, '') -%><% defin = definitions[defin_name] -%>[<%= partial('sections/schema_json', :locals => {
  :definitions => definitions,
  :definition => defin,
  :level => level + 1
}) %>]<% elsif property.has_key?('$ref') -%><% defin_name = property['$ref'].sub(%r{^#/definitions/}, '') -%><% defin = definitions[defin_name] -%><%= partial('sections/schema_json', :locals => {
  :definitions => definitions,
  :definition => defin,
  :level => level + 1
}) -%>
  <% else -%>
    <%
    value = case property.type
    when "string"
      '"string"'
    when "uuid"
      '"UUID"'
    when "integer"
      'integer'
    else
      property.type
    end -%>
<%= value -%>
  <% end -%>
<%= (idx < (definition.properties.size - 1)) ? "," : "" %>
<% end -%>
<%= " " * ((level - 1) * 2) %>}