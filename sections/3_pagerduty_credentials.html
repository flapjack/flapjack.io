<!doctype html>
<html>
  <head>
    <meta charset="utf-8">

    <!-- Always force latest IE rendering engine or request Chrome Frame -->
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

    <!-- Use title if it's in the page YAML frontmatter -->
    <title>API Documentation</title>

    <link href="../stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="../stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src="../javascripts/all.js" type="text/javascript"></script>

    <script>
      $(function() {
        var toc = $("#toc").tocify({
          selectors: "h1,h2",
          extendPage: false,
          theme: "none",
          smoothScroll: false,
          showEffectSpeed: 0,
          hideEffectSpeed: 180,
          ignoreSelector: ".toc-ignore",
          hashGenerator: 'pretty',
          highlightOffset: 60,
          scrollTo: -2,
          scrollHistory: true,
          hashGenerator: function(text, element) {
            return element[0].getAttribute('id');
          }
        }).data("toc-tocify");
        // Hack to make already open sections to start opened,
        // instead of displaying an ugly animation
        setTimeout(function() {
          toc.setOption("showEffectSpeed", 180);
        },50);
        setupLanguages([
        ]);
      });
    </script>
  </head>

  <body class="sections sections_3_pagerduty_credentials">
    <div class="tocify-wrapper">
      <a href="/">
        <img src="../images/logo.png" />
      </a>
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="content">
        <h1 id="toc_0">PagerDuty credentials</h1>

<p>The PagerDuty resource has the following attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>service_key</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>subdomain</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>username</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>password</td>
<td>String</td>
<td></td>
</tr>
</tbody></table>

<h2 id="toc_1">Create PagerDuty credentials for a contact</h2>
<pre class="highlight shell">curl -w <span class="s1">'response: %{http_code} \n'</span> -X POST -H <span class="s2">&quot;Content-Type: application/vnd.api+json&quot;</span> -d <span class="se">\</span>
 <span class="s1">'{
    &quot;pagerduty_credentials&quot;: [
      {
        &quot;service_key&quot; : &quot;567890123456789012345678&quot;,
        &quot;subdomain&quot; : &quot;eggs&quot;,
        &quot;username&quot; : &quot;flapjack&quot;,
        &quot;password&quot; : &quot;tomato&quot;
      }
    ]
  }'</span> <span class="se">\</span>
 http://localhost:3081/contacts/5/pagerduty_credentials
</pre><pre class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="nf">.base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="nf">.create_contact_pagerduty_credentials</span><span class="p">(</span>
  <span class="s1">'5'</span><span class="p">,</span>
  <span class="p">{</span>
    <span class="s1">'service_key'</span> <span class="o">=&gt;</span> <span class="s1">'567890123456789012345678'</span><span class="p">,</span>
    <span class="s1">'subdomain'</span>   <span class="o">=&gt;</span> <span class="s1">'eggs'</span><span class="p">,</span>
    <span class="s1">'username'</span>    <span class="o">=&gt;</span> <span class="s1">'flapjack'</span><span class="p">,</span>
    <span class="s1">'password'</span>    <span class="o">=&gt;</span> <span class="s1">'tomato'</span>
  <span class="p">}</span>
<span class="p">)</span>
</pre>
<h3 id="toc_2">HTTP Request</h3>

<p><code class="prettyprint">POST /contacts/CONTACT_ID/pagerduty_credentials</code></p>

<h3 id="toc_3">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pagerduty_credentials</td>
<td>Array[PagerDuty]</td>
<td>An array of PagerDuty resources to create.</td>
</tr>
</tbody></table>

<h3 id="toc_4">HTTP Return Codes</h3>

<table><thead>
<tr>
<th>Return code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td>The submitted PagerDuty credentials resources were created successfully.</td>
</tr>
<tr>
<td>405</td>
<td><strong>Error</strong> The submitted PagerDuty credentials data was not sent with the JSONAPI MIME type <code class="prettyprint">application/vnd.api+json</code>.</td>
</tr>
<tr>
<td>422</td>
<td><strong>Error</strong> The submitted PagerDuty credentials data did not conform to the provided specification.</td>
</tr>
</tbody></table>

<h2 id="toc_5">Get PagerDuty credentials</h2>

<p>If no contact ids are provided then all PagerDuty credentials resources will be returned; if contact ids
are provided then only the PagerDuty credentials resources matching those ids will be returned.</p>
<pre class="highlight shell">curl http://localhost:3081/pagerduty_credentials

<span class="c"># or</span>
curl http://localhost:3081/pagerduty_credentials/1

<span class="c"># or</span>
curl http://localhost:3081/pagerduty_credentials/21,22
</pre><pre class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="nf">.base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="nf">.pagerduty_credentials</span>

<span class="c1"># or</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="nf">.pagerduty_credentials</span><span class="p">(</span><span class="s1">'1'</span><span class="p">)</span>

<span class="c1"># or</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="nf">.pagerduty_credentials</span><span class="p">(</span><span class="s1">'21'</span><span class="p">,</span> <span class="s1">'22'</span><span class="p">)</span>
</pre>
<blockquote>
<p>The commands return JSON structured like this, which is broken up by Flapjack::Diner into its constituent hashes:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">&quot;pagerduty_credentials&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">&quot;service_key&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;567890123456789012345678&quot;</span><span class="p">,</span><span class="w">
      </span><span class="s2">&quot;subdomain&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;eggs&quot;</span><span class="p">,</span><span class="w">
      </span><span class="s2">&quot;username&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;flapjack&quot;</span><span class="p">,</span><span class="w">
      </span><span class="s2">&quot;password&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tomato&quot;</span><span class="p">,</span><span class="w">
      </span><span class="s2">&quot;links&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">&quot;contacts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;21&quot;</span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">&quot;service_key&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;456789012345678901234567&quot;</span><span class="p">,</span><span class="w">
      </span><span class="s2">&quot;subdomain&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;spam&quot;</span><span class="p">,</span><span class="w">
      </span><span class="s2">&quot;username&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;waffle&quot;</span><span class="p">,</span><span class="w">
      </span><span class="s2">&quot;password&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;eggplant&quot;</span><span class="p">,</span><span class="w">
      </span><span class="s2">&quot;links&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">&quot;contacts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;22&quot;</span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>
<h3 id="toc_6">HTTP Request</h3>

<p><code class="prettyprint">GET /pagerduty_credentials</code></p>

<p><strong>or</strong></p>

<p><code class="prettyprint">GET /pagerduty_credentials/CONTACT_ID[,CONTACT_ID,CONTACT_ID...]</code></p>

<h3 id="toc_7">Query Parameters</h3>

<p>None.</p>

<h3 id="toc_8">HTTP Return Codes</h3>

<table><thead>
<tr>
<th>Return code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>OK</td>
</tr>
</tbody></table>

<h2 id="toc_9">Update PagerDuty credentials</h2>

<p>Update one or more attributes for one or more PagerDuty credentials resources.</p>
<pre class="highlight shell">curl -w <span class="s1">'response: %{http_code} \n'</span> -X PATCH -H <span class="s2">&quot;Content-Type: application/json-patch+json&quot;</span> -d <span class="se">\</span>
<span class="s1">'[
  {&quot;op&quot;    : &quot;replace&quot;,
   &quot;path&quot;  : &quot;/pagerduty_credentials/0/username&quot;,
   &quot;value&quot; : &quot;genius&quot;},
  {&quot;op&quot;    : &quot;replace&quot;,
   &quot;path&quot;  : &quot;/pagerduty_credentials/0/password&quot;,
   &quot;value&quot; : &quot;ideas&quot;}
]'</span> <span class="se">\</span>
 <span class="s1">'http://localhost:3081/pagerduty_credentials/21s'</span>
</pre><pre class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="nf">.base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="nf">.update_pagerduty_credentials</span><span class="p">(</span>
  <span class="s1">'21'</span><span class="p">,</span>
  <span class="ss">:username</span> <span class="o">=&gt;</span> <span class="s1">'genius'</span><span class="p">,</span>
  <span class="ss">:password</span> <span class="o">=&gt;</span> <span class="s1">'ideas'</span>
<span class="p">)</span>
</pre>
<h3 id="toc_10">HTTP Request</h3>

<p><code class="prettyprint">PATCH /pagerduty_credentials/CONTACT_ID[,CONTACT_ID,CONTACT_ID...]</code></p>

<h3 id="toc_11">Query Parameters</h3>

<p>Parameters sent for PagerDuty credentials updates must form a valid <a href="http://tools.ietf.org/html/rfc6902">JSON Patch (RFC 6902)</a> document. This is comprised of a bare JSON array of JSON-Patch operation objects, which have three members:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>String</td>
<td>may only be <em>replace</em></td>
</tr>
<tr>
<td>path</td>
<td>String</td>
<td>&ldquo;/pagerduty_credentials/0/ATTRIBUTE&rdquo; (e.g. &lsquo;username&rsquo;)</td>
</tr>
<tr>
<td>value</td>
<td>-&gt;</td>
<td>a value of the correct data type for the attribute in the path</td>
</tr>
</tbody></table>

<h3 id="toc_12">HTTP Return Codes</h3>

<table><thead>
<tr>
<th>Return code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>204</td>
<td>The submitted PagerDuty credentials updates were made successfully. No content is returned.</td>
</tr>
<tr>
<td>404</td>
<td>PagerDuty credentials resources could not be found for one or more of the provided contact ids. No PagerDuty credentials resources were altered by this request.</td>
</tr>
<tr>
<td>405</td>
<td><strong>Error</strong> The submitted PagerDuty credentials data was not sent with the JSON-Patch MIME type <code class="prettyprint">application/json-patch+json</code>.</td>
</tr>
</tbody></table>

<h2 id="toc_13">Delete PagerDuty credentials</h2>

<p>Delete one or more PagerDuty credentials resources.</p>
<pre class="highlight shell">curl -w <span class="s1">'response: %{http_code} \n'</span> -X DELETE <span class="se">\</span>
  <span class="s1">'http://localhost:3081/pagerduty_credentials/11'</span>

<span class="c"># or</span>
curl -w <span class="s1">'response: %{http_code} \n'</span> -X DELETE <span class="se">\</span>
  <span class="s1">'http://localhost:3081/pagerduty_credentials/31,32'</span>
</pre><pre class="highlight ruby"><span class="nb">require</span> <span class="s1">'flapjack-diner'</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="nf">.base_uri</span><span class="p">(</span><span class="s1">'localhost:3081'</span><span class="p">)</span>

<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="nf">.delete_pagerduty_credentials</span><span class="p">(</span><span class="s1">'11'</span><span class="p">)</span>

<span class="c1"># or</span>
<span class="no">Flapjack</span><span class="o">::</span><span class="no">Diner</span><span class="nf">.delete_pagerduty_credentials</span><span class="p">(</span><span class="s1">'31'</span><span class="p">,</span> <span class="s1">'32'</span><span class="p">)</span>
</pre>
<h3 id="toc_14">HTTP Request</h3>

<p><code class="prettyprint">DELETE /pagerduty_credentials/CONTACT_ID[,CONTACT_ID,CONTACT_ID...]</code></p>

<h3 id="toc_15">Query Parameters</h3>

<p>None.</p>

<h3 id="toc_16">HTTP Return Codes</h3>

<table><thead>
<tr>
<th>Return code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>204</td>
<td>The PagerDuty credentials resources were deleted</td>
</tr>
<tr>
<td>404</td>
<td>PagerDuty credentials could not be found for one or more of the provided contact ids. No PagerDuty credentials were deleted by this request.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
        <div id="lang-selector">
        </div>
      </div>
    </div>
  </body>
</html>
